function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/CodeEditor-BFUTwl1p.js","assets/index-6BqEBdFF.js","assets/vendor-BGjp6CLF.js","assets/index-DspDvSlJ.css","assets/SyntaxHighlighter-D1o7uAEo.js","assets/index-CTd_GwOb.js","assets/textarea-DxZAod9N.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{H as Jn,r as I,j as m,I as Kn,J as _t,u as Dt,K as Bt}from"./vendor-BGjp6CLF.js";import{c as Ot,u as Te,h as De,J as Rt,i as Ht,w as $t,S as Vt,j as qt,k as Ut,l as Wt,m as yn,v as oe,D as Qt,b as Zt,K as Gt,e as Jt,L as Kt,M as Yt,N as Xt,f as er,O as nr,Q as tr,R as Yn,U as rr,V as ir,W as Xn,X as et,Y as ar,Z as nt,_ as tt,a0 as rt,a1 as sr,o as or,a2 as dn,a as lr,B as Se,a3 as it,a4 as at,a5 as ur,a6 as cr,a7 as hr,a8 as dr,a9 as fr,aa as mr,ab as pr,T as gr,ac as xr,ad as br,g as kr,y as wr,A as yr,z as Sr}from"./textarea-DxZAod9N.js";import{T as Ee,a as Ie,b as ve,d as jr,_ as fn,c as we,e as zr,u as Cr,M as Er}from"./index-6BqEBdFF.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ot("MessageCircleMore",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);function st(e,n){if(typeof document>"u")return;const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t);const r=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;t.select();let i=!1;try{i=!!document.execCommand("copy")}catch{i=!1}document.body.removeChild(t),r&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),n&&n(i)}function vr(){const n=Jn().id??"new",t=Te(De({id:n})),[r,i]=I.useState(!1),[a,s]=I.useState();return I.useEffect(()=>{r&&Rt(n,t).then(()=>{st(document.location.href.replace("/ai","/ai/shared"))}).catch(o=>{console.error("Share error",o),s(o.toString())})},[n,t,r]),m.jsxs(Ht,{onOpenChange:o=>i(o),children:[m.jsx($t,{asChild:!0,children:m.jsx("button",{type:"button","aria-label":"Share",className:"flex items-center border-l px-3 text-sm text-secondary-foreground hover:bg-background",children:m.jsx(Vt,{})})}),m.jsxs(qt,{className:"sm:max-w-[425px]",children:[m.jsxs(Ut,{children:[m.jsx(Wt,{children:"Share"}),a?m.jsx(yn,{className:"mb-2 text-red-500 dark:text-red-400",children:a}):m.jsx(yn,{children:"Copy the link below to share your creation"})]}),m.jsx("div",{className:"items-center",children:m.jsx("input",{type:"text",value:document.location.href.replace("/ai","/ai/shared"),className:"w-full p-3"})})]})]})}function qe({mode:e="html",error:n,loading:t=!1}){const r=t?"animate-pulse":"";return n?m.jsx("div",{className:"mx-auto mt-10 max-w-[80%]",children:m.jsx("div",{className:"bg-secondary text-black dark:text-white",children:m.jsxs("div",{role:"alert",className:"relative mb-2 rounded border-l-4 border-red-500 p-4",children:[m.jsx("strong",{className:"font-bold",children:"Error! "}),m.jsx("span",{className:"block sm:inline",children:n})]})})}):m.jsxs("div",{className:"mx-auto max-w-lg",children:[" ",m.jsxs("div",{role:"status",className:`my-7 ${r}`,children:[" ",m.jsx("div",{className:"mb-4 h-2.5 w-48 rounded-full bg-zinc-300 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[500px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[450px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[380px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("span",{className:"sr-only",children:"Loading..."})," "]}),e==="html"&&m.jsxs("div",{role:"status",className:`mb-7 max-w-lg ${r}`,children:[" ",m.jsxs("div",{className:"flex h-48 w-full items-center justify-center rounded bg-zinc-300 dark:bg-zinc-700",children:[" ",m.jsx("svg",{className:"h-12 w-12 text-gray-200",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 640 512",children:m.jsx("path",{d:"M480 80C480 35.82 515.8 0 560 0C604.2 0 640 35.82 640 80C640 124.2 604.2 160 560 160C515.8 160 480 124.2 480 80zM0 456.1C0 445.6 2.964 435.3 8.551 426.4L225.3 81.01C231.9 70.42 243.5 64 256 64C268.5 64 280.1 70.42 286.8 81.01L412.7 281.7L460.9 202.7C464.1 196.1 472.2 192 480 192C487.8 192 495 196.1 499.1 202.7L631.1 419.1C636.9 428.6 640 439.7 640 450.9C640 484.6 612.6 512 578.9 512H55.91C25.03 512 .0006 486.1 .0006 456.1L0 456.1z"})})," "]}),m.jsx("span",{className:"sr-only",children:"Loading..."})," "]}),m.jsxs("div",{role:"status",className:`my-6 ${r}`,children:[" ",m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[450px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[500px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[450px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[380px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("span",{className:"sr-only",children:"Loading..."})," "]}),m.jsxs("div",{role:"status",className:`my-6 ${r}`,children:[" ",m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[450px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[500px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("span",{className:"sr-only",children:"Loading..."})," "]}),m.jsxs("div",{role:"status",className:`mb-6 mt-7 ${r}`,children:[" ",m.jsx("div",{className:"mb-4 h-2.5 w-48 rounded-full bg-zinc-300 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[450px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[500px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[450px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[380px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[500px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("span",{className:"sr-only",children:"Loading..."})," "]}),m.jsxs("div",{role:"status",className:`my-6 ${r}`,children:[" ",m.jsx("div",{className:"mb-2.5 h-2 max-w-[460px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("div",{className:"mb-2.5 h-2 max-w-[450px] rounded-full bg-zinc-200 dark:bg-zinc-700"}),m.jsx("span",{className:"sr-only",children:"Loading..."})," "]})]})}qe.defaultProps={error:void 0,mode:"html"};const Ar=I.lazy(async()=>fn(()=>import("./CodeEditor-BFUTwl1p.js"),__vite__mapDeps([0,1,2,3])));function Nr(e,n){const t=new RegExp(Object.keys(n).join("|"),"g");return e.replace(t,r=>n[r.toLowerCase()])}function Tr(e){return`export default function Widget() {
    return (
${Nr(e,{"class=":"className=","for=":"htmlFor=","-rule":"Rule","stroke-l":"strokeL","stroke-w":"strokeW","<!--":"{/*","-->":"*/}",tabindex:"tabIndex",colspan:"colSpan:",rowspan:"rowSpan:","aria-*":"aria-*","data-*":"data-*",onclick:"onClick",onchange:"onChange",onblur:"onBlur"}).split(`
`).map(r=>`        ${r}`).join(`
`)}
    )
}`}function Lr({id:e,code:n,shared:t}){const r=Te(De({id:e})),[i,a]=oe(tr),[s,o]=oe(Yn),[h,l]=I.useState(n);I.useEffect(()=>{var u;l(i==="jsx"?Tr(n):i==="html"?n:((u=r.components)==null?void 0:u[i])??"Loading...")},[i,n,r.components]),I.useEffect(()=>{s&&a(s)},[s,a]);const p=["html"];return r.components?p.push(...Object.keys(r.components)):p.push("jsx"),m.jsx("div",{className:"code-syntax-wrapper",children:m.jsxs("div",{className:"code-syntax relative border",children:[m.jsxs("div",{className:"grid w-full grid-cols-2 rounded-t-md border-b",children:[m.jsxs("ul",{className:"flex text-center text-sm font-medium text-gray-500 dark:text-gray-400",children:[p.map(u=>m.jsx("li",{children:m.jsx("button",{type:"button",onClick:()=>a(u),className:`inline-block w-full border-r p-2 px-3 text-secondary-foreground ${u===i?"bg-background":"bg-secondary hover:bg-background"}`,children:u.toUpperCase()})},u)),m.jsx("li",{children:m.jsxs(Qt,{children:[m.jsx(Zt,{asChild:!0,children:m.jsx("button",{type:"button","aria-label":"Convert HTML to a framework",className:"inline-block w-full border-r bg-secondary p-[10px] text-secondary-foreground hover:bg-background",children:m.jsxs(Ee,{children:[m.jsx(Ie,{asChild:!0,children:m.jsx(Gt,{})}),m.jsx(ve,{side:"bottom",children:"Convert HTML to a framework"})]})})}),m.jsxs(Jt,{side:"top",children:[m.jsx(Kt,{children:"Convert to"}),m.jsx(Yt,{}),Xt.map(u=>m.jsx(er,{onClick:()=>{o(u)},children:u.toLocaleUpperCase()},u))]})]})},"new")]}),m.jsxs("div",{className:"flex justify-end",children:[e!=="new"&&!t&&m.jsx(vr,{}),m.jsx("button",{type:"button","aria-label":"Download",onClick:()=>{const u=i==="html"?".html":".js";jr(n,i==="html"?"text/html":"application/javascript",`${r.name}${u}`)},className:"flex items-center border-l px-3 text-sm text-secondary-foreground hover:bg-background",children:m.jsx(nr,{})}),m.jsxs("button",{type:"button",onClick:()=>st(h),className:"flex items-center border-l px-3 text-sm text-secondary-foreground hover:bg-background",children:[m.jsxs("svg",{className:"mr-2 h-3.5 w-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20",children:[m.jsx("path",{d:"M5 9V4.13a2.96 2.96 0 0 0-1.293.749L.879 7.707A2.96 2.96 0 0 0 .13 9H5Zm11.066-9H9.829a2.98 2.98 0 0 0-2.122.879L7 1.584A.987.987 0 0 0 6.766 2h4.3A3.972 3.972 0 0 1 15 6v10h1.066A1.97 1.97 0 0 0 18 14V2a1.97 1.97 0 0 0-1.934-2Z"}),m.jsx("path",{d:"M11.066 4H7v5a2 2 0 0 1-2 2H0v7a1.969 1.969 0 0 0 1.933 2h9.133A1.97 1.97 0 0 0 13 18V6a1.97 1.97 0 0 0-1.934-2Z"})]})," ",m.jsx("span",{className:"copy-text",children:"Copy"})]})]})]}),m.jsx("div",{className:"relative bg-zinc-50 dark:bg-zinc-900",children:m.jsx("div",{className:"max-h-[24vh] overflow-scroll pb-8 text-sm",tabIndex:-1,children:m.jsx(I.Suspense,{fallback:m.jsx(qe,{loading:!0}),children:n?m.jsx(Ar,{code:h,framework:i}):void 0})})})]})})}function ot({className:e,style:n,callback:t}){const r=["Create a responsive navigation bar with dropdown menus, using a dark theme.","I need a user profile card with an avatar, name, and social media links in Tailwind CSS.","Generate a modal popup for user feedback, including text area and submit button.","Can you make a pricing table with three tiers, highlighting the best value tier?","Build a responsive image gallery grid that supports lightbox viewing.","I'm looking for a login form with email and password fields, plus a remember me checkbox.","Design a newsletter signup section with an input field and a subscribe button, featuring a minimalist aesthetic.","Create a footer with columns for links, a brief about section, and social media icons.","Generate a dashboard layout with a sidebar navigation, header, and content area.","I need an accordion FAQ section where questions expand to show answers on click.","Produce a blog post template with a featured image, title, date, author, and content area.","Design a to-do list app interface with tasks, checkboxes, and an add task form.","Create a progress bar component that shows percentage completion and can be styled dynamically.","Generate a contact form with name, email, message fields, and a send button, with validation styles.","Design a carousel slider for featured articles with previous and next controls, using a sleek, modern look.","Create a set of social share buttons with icons for Facebook, Twitter, LinkedIn, and Instagram, with a hover effect.","Generate a responsive table with sortable columns, row highlight on hover, and pagination.","I need a card layout for product listings, including an image, title, price, and 'Add to Cart' button.","Build a timeline component for displaying a project's milestones, with vertical lines and circular markers.","Design a weather widget showing the current temperature, weather condition icons, and a 5-day forecast.","Create an alert component with success, warning, and error variations that can be dismissed.","Generate a multi-step form for a checkout process, including progress indicators.","I'm looking for a tab component with horizontal navigation and dynamically loaded content.","Design a search bar with autocomplete suggestions that appear as the user types.","Create a sticky header that becomes visible when scrolling up and hides on scrolling down.","Generate a set of animated loading spinners with different styles for asynchronous data loading.","I need a grid of cards for team members, including photo, name, role, and a short bio, with a flip effect on hover.","Build a testimonial slider with quotes from customers, including their names and photos.","Design a date picker component that integrates with a form and supports range selection.","Generate a set of badges for different status levels like New, In Progress, and Completed, with customizable colors."],[i,a]=I.useState([]);return I.useEffect(()=>{const s=new Set;for(;s.size<3;)s.add(Math.floor(Math.random()*r.length));a([...s])},[r.length]),m.jsxs("div",{className:we(e,"flex flex-wrap items-center justify-center gap-2 transition-all duration-500"),style:n,children:[m.jsx("button",{onClick:()=>t(r[i[0]]),type:"button",className:"w-xs min-w-xs max-w-xs cursor-pointer truncate rounded-full bg-gradient-to-r from-teal-400 to-blue-500 px-4 py-2 text-white transition-all hover:from-teal-500 hover:to-blue-600",children:m.jsx("span",{className:"transition-all hover:-ml-96 hover:mr-36",style:{transitionDuration:"3000ms"},children:r[i[0]]})}),m.jsx("button",{onClick:()=>t(r[i[1]]),type:"button",className:"w-xs min-w-xs max-w-xs cursor-pointer truncate rounded-full bg-gradient-to-r from-purple-400 to-pink-500 px-4 py-2 text-white transition-all hover:from-purple-500 hover:to-pink-600",children:m.jsx("span",{className:"transition-all hover:-ml-96 hover:mr-36",style:{transitionDuration:"3000ms"},children:r[i[1]]})}),m.jsx("button",{onClick:()=>t(r[i[2]]),type:"button",className:"w-xs min-w-xs max-w-xs cursor-pointer truncate rounded-full bg-gradient-to-r from-yellow-400 to-orange-500 px-4 py-2 text-white transition-all hover:from-yellow-500 hover:to-orange-600",children:m.jsx("span",{className:"transition-all hover:-ml-96 hover:mr-36",style:{transitionDuration:"3000ms"},children:r[i[2]]})})]})}ot.defaultProps={className:"",style:{}};const Mr=rr,Fr=ir,Pr=sr,lt=I.forwardRef(({className:e,...n},t)=>m.jsx(Xn,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:t}));lt.displayName=Xn.displayName;const _r=or("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ut=I.forwardRef(({side:e="right",className:n,children:t,...r},i)=>m.jsxs(Pr,{children:[m.jsx(lt,{}),m.jsxs(et,{ref:i,className:we(_r({side:e}),n),...r,children:[t,m.jsxs(ar,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[m.jsx(nt,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ut.displayName=et.displayName;const ct=({className:e,...n})=>m.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",e),...n});ct.displayName="SheetHeader";const ht=I.forwardRef(({className:e,...n},t)=>m.jsx(tt,{ref:t,className:we("text-lg font-semibold text-foreground",e),...n}));ht.displayName=tt.displayName;const dt=I.forwardRef(({className:e,...n},t)=>m.jsx(rt,{ref:t,className:we("text-sm text-muted-foreground",e),...n}));dt.displayName=rt.displayName;function Dr({onDropFile:e,onClick:n}){const[t,r]=I.useState(!1);return m.jsx("div",{className:"flex h-full items-center bg-background",onKeyUp:i=>{i.key==="Enter"&&n()},role:"button",tabIndex:0,onClick:n,onDragEnter:()=>r(!0),onDragExit:()=>r(!1),onDrop:i=>{i.preventDefault(),r(!1);let a;if(i.dataTransfer.items.length>0){for(const s of i.dataTransfer.items)if(s.kind==="file"){if(a=s.getAsFile(),a!=null&&a.type.startsWith("image/"))break;a=void 0}}else for(const s of i.dataTransfer.files){if(s.type.startsWith("image/"))break;a=void 0}i.dataTransfer.clearData(),a?(console.log("Got file type",a.type),e(a)):alert("Only images are supported")},onDragOver:i=>{i.preventDefault()},children:m.jsxs("label",{className:"relative mx-auto h-64 w-64 cursor-pointer rounded-lg bg-white p-4 text-center text-zinc-600 shadow-lg dark:bg-zinc-800",children:[m.jsx("div",{className:"mb-5 text-6xl",children:"ðŸ“¸"}),m.jsx("span",{className:"text-lg",children:"Drag a screenshot of UI or click me to upload one."}),m.jsx("div",{className:"mt-2 text-sm",children:"You can also just explain what you want in the text box below."}),m.jsx("div",{className:we("absolute inset-0 h-full w-full rounded-lg border-2 border-dashed border-zinc-400 bg-transparent",t&&"border-zinc-100")})]})})}function Br(){const[e,n]=oe(dn);return m.jsx("div",{className:"flex h-full items-center bg-background",children:m.jsxs("div",{className:"relative mx-auto",children:[m.jsx(nt,{onClick:()=>n(""),className:"absolute text-zinc-600 dark:text-zinc-400 right-1 top-1 cursor-pointer"}),m.jsx("img",{className:"mx-auto object-contain  h-64 w-64  rounded-lg text-center text-zinc-600 shadow-lg dark:bg-zinc-800",src:e})]})})}const Or=I.lazy(async()=>fn(()=>import("./SyntaxHighlighter-D1o7uAEo.js"),__vite__mapDeps([4,2,1,3]))),Rr=I.lazy(async()=>fn(()=>import("./index-CTd_GwOb.js"),__vite__mapDeps([5,2,6,1,3])));function Hr(e){const n="    ";let t="",r="";for(const i of e.split(/>\s*</))/^\/\w/.test(i)&&(r=r.slice(n.length)),t+=`${r}<${i}>
`,/^<?\w[^>]*[^/]$/.test(i)&&!i.startsWith("input")&&(r+=n);return t.slice(1,-2)}function $r(e,n){const t=[];for(let r=0;r<e.length;r+=n)t.push(e.slice(r,r+n));return t}function Vr(e){const t=(e.markdown??"").split(`---

`);t[0].includes("name: ")&&t.shift();let{prompt:r}=e;return t.map(i=>{const a=i.replace(/---\nprompt:.+\n/m,""),s=`### ${r}

`,o=i.split(`---
`);return(o[1]||"").startsWith("prompt:")&&(r=o[1].replace("prompt:","").trim()),i.startsWith("<")?`${s}\`\`\`html
${a}
\`\`\``:s+a}).join(`
`)}function ft({html:e,error:n,js:t,id:r,rendering:i,imageUploadRef:a}){const s=document.location.hostname.includes("127.0.0.1")?"http://127.0.0.1:7878":"https://wandb.github.io",o=I.useRef(null),h=Te(De({id:r})),l=lr(it),[p,u]=oe(dn),[g,c]=oe(at),[C,T]=oe(ur),[P,k]=I.useState(!1),[B,w]=I.useState(!1),[M,$]=I.useState(),[b,S]=I.useState("desktop");return I.useLayoutEffect(()=>{T(window.matchMedia("(prefers-color-scheme: dark)").matches)},[T]),I.useEffect(()=>{C?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[C]),I.useEffect(()=>{var N;M||k(!1),o.current&&((N=o.current.contentWindow)==null||N.postMessage({html:M,js:i?[]:t,darkMode:C,action:"hydrate"},"*"))},[M,C,t,i,o]),I.useEffect(()=>{var N,E;if(o.current){let F=e.split(`
`);const j=80,z=3,_=-1;if((N=F.at(_))!=null&&N.startsWith("<!--")){const V=F.pop();F=[...F,...$r(V??"",j)]}else(E=F.at(_))!=null&&E.endsWith(">")||F.pop();(F.length>z||!i)&&$(F.join(`
`))}},[e,i]),I.useEffect(()=>{const N=E=>{var F,j;E.origin===s&&(E.data.action==="ready"?M&&((j=(F=o.current)==null?void 0:F.contentWindow)==null||j.postMessage({html:M,js:t,darkMode:C,action:"hydrate"},"*")):E.data.screenshot?console.log("Got screenshot event, ignoring for now",E):E.data.comment?(c([...g,E.data.comment]),l(Hr(E.data.html.trim())),w(!1)):E.data.action==="loaded"&&k(E.data.preview))};return window.addEventListener("message",N),()=>window.removeEventListener("message",N)},[M,g,t,C,l,c,s]),m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-full rounded-t-xl border bg-background p-4",children:m.jsxs("div",{className:"grid grid-cols-3",children:[m.jsx("div",{className:"col-span-2 items-center justify-center space-x-2 sm:col-span-1",children:m.jsxs(Ee,{children:[m.jsx(Ie,{asChild:!0,children:m.jsx(Se,{onClick:()=>{var N,E;w(!B),(E=(N=o.current)==null?void 0:N.contentWindow)==null||E.postMessage({html:M,action:"toggle-inspector"},"*")},size:"icon",variant:"outline",className:`${B&&"bg-secondary"}`,children:m.jsx("svg",{className:"inline-block h-4 w-4",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 2V0H7V2H5.5ZM0.96967 2.03033L2.46967 3.53033L3.53033 2.46967L2.03033 0.96967L0.96967 2.03033ZM4.24592 4.24592L4.79515 5.75631L7.79516 14.0063L8.46663 15.8529L9.19636 14.0285L10.2739 11.3346L13.4697 14.5303L14.5303 13.4697L11.3346 10.2739L14.0285 9.19636L15.8529 8.46663L14.0063 7.79516L5.75631 4.79516L4.24592 4.24592ZM11.6471 8.53337L10.1194 9.14447C9.6747 9.32235 9.32235 9.6747 9.14447 10.1194L8.53337 11.6471L6.75408 6.75408L11.6471 8.53337ZM0 7H2V5.5H0V7Z",fill:"currentColor"})})})}),m.jsx(ve,{children:"Comment on elements in the HTML"})]})}),m.jsxs("div",{className:"col-span-1 hidden items-center justify-center space-x-2 sm:flex",children:[m.jsxs(Ee,{children:[m.jsx(Ie,{asChild:!0,children:m.jsxs(Se,{onClick:()=>S("desktop"),size:"icon",variant:"outline",children:[m.jsx("span",{className:"sr-only",children:"Toggle desktop view"}),m.jsx("svg",{className:"inline-block h-3.5 w-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:m.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14v4m-4 1h8M1 10h18M2 1h16a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Z"})})]})}),m.jsx(ve,{children:"Toggle desktop view"})]}),m.jsxs(Ee,{children:[m.jsx(Ie,{asChild:!0,children:m.jsxs(Se,{onClick:()=>S("tablet"),variant:"outline",size:"icon",children:[m.jsx("span",{className:"sr-only",children:"Toggle tablet view"}),m.jsx("svg",{className:"inline-block h-3.5 w-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20",children:m.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7.5 16.5h3M2 1h14a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Z"})})]})}),m.jsx(ve,{children:"Toggle tablet view"})]}),m.jsxs(Ee,{children:[m.jsx(Ie,{asChild:!0,children:m.jsxs(Se,{onClick:()=>S("mobile"),variant:"outline",size:"icon",children:[m.jsx("span",{className:"sr-only",children:"Toggle mobile view"}),m.jsx("svg",{className:"inline-block h-3.5 w-3.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 20",children:m.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 14h12M1 4h12M6.5 16.5h1M2 1h10a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Z"})})]})}),m.jsx(ve,{children:"Toggle mobile view"})]})]}),m.jsxs("div",{className:"col-span-1 flex justify-end",children:[m.jsxs(Ee,{children:[m.jsx(Ie,{asChild:!0,children:m.jsxs(Se,{onClick:()=>{var N;o.current&&(T(!C),(N=o.current.contentWindow)==null||N.postMessage({action:"toggle-dark-mode"},"*"))},variant:"outline",size:"icon",children:[m.jsx("svg",{"data-toggle-icon":"moon",className:`${!C&&"hidden"} inline-block h-3.5 w-3.5`,"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 20",children:m.jsx("path",{d:"M17.8 13.75a1 1 0 0 0-.859-.5A7.488 7.488 0 0 1 10.52 2a1 1 0 0 0 0-.969A1.035 1.035 0 0 0 9.687.5h-.113a9.5 9.5 0 1 0 8.222 14.247 1 1 0 0 0 .004-.997Z"})}),m.jsx("svg",{"data-toggle-icon":"sun",className:`${C&&"hidden"} inline-block h-3.5 w-3.5`,"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{d:"M10 15a5 5 0 1 0 0-10 5 5 0 0 0 0 10Zm0-11a1 1 0 0 0 1-1V1a1 1 0 0 0-2 0v2a1 1 0 0 0 1 1Zm0 12a1 1 0 0 0-1 1v2a1 1 0 1 0 2 0v-2a1 1 0 0 0-1-1ZM4.343 5.757a1 1 0 0 0 1.414-1.414L4.343 2.929a1 1 0 0 0-1.414 1.414l1.414 1.414Zm11.314 8.486a1 1 0 0 0-1.414 1.414l1.414 1.414a1 1 0 0 0 1.414-1.414l-1.414-1.414ZM4 10a1 1 0 0 0-1-1H1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1Zm15-1h-2a1 1 0 1 0 0 2h2a1 1 0 0 0 0-2ZM4.343 14.243l-1.414 1.414a1 1 0 1 0 1.414 1.414l1.414-1.414a1 1 0 0 0-1.414-1.414ZM14.95 6.05a1 1 0 0 0 .707-.293l1.414-1.414a1 1 0 1 0-1.414-1.414l-1.414 1.414a1 1 0 0 0 .707 1.707Z"})}),m.jsx("span",{className:"sr-only",children:"Toggle dark/light mode"})]})}),m.jsx(ve,{children:"Toggle dark/light mode"})]}),m.jsxs(Mr,{children:[m.jsxs(Ee,{children:[m.jsx(Ie,{asChild:!0,children:m.jsx(Fr,{asChild:!0,children:m.jsx(Se,{className:"ml-2",variant:"outline",size:"icon",children:m.jsx(Ir,{strokeWidth:1})})})}),m.jsx(ve,{children:"View chat history"})]}),m.jsx(ut,{className:"w-[100%] overflow-scroll sm:max-lg:max-w-[75%] md:max-w-[50%]",children:m.jsxs(ct,{children:[m.jsx(ht,{children:"Chat history"}),m.jsx(dt,{asChild:!0,children:m.jsx(I.Suspense,{fallback:m.jsx(qe,{loading:!0}),children:m.jsx(Rr,{className:"prose prose-sm prose-zinc max-w-full dark:prose-invert",components:{code(N){const{children:E,className:F,node:j,ref:z,..._}=N,V=/language-(\w+)/.exec(F??"");return V?m.jsx(Or,{className:"max-h-[300px] overflow-scroll text-xs",language:V[1],..._,children:String(E).replace(/\n$/,"")}):m.jsx("code",{children:E})}},children:Vr(h)})})})]})})]})]})]})}),m.jsx("div",{className:"code-preview-wrapper",children:m.jsx("div",{className:"code-preview flex border-x bg-background bg-gradient-to-r p-0",children:m.jsxs("div",{className:"code-responsive-wrapper h-[60vh] w-full overflow-auto",children:[m.jsx("iframe",{title:"HTML preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-modals",ref:o,className:`iframe-code mx-auto max-h-[60vh] w-full bg-background ${b==="tablet"&&"max-w-lg"} ${b==="mobile"&&"max-w-sm"}`,style:{height:P&&!n?"100%":0},src:`${s}/openui/index.html?buster=113`}),!P&&(i||n?m.jsx(qe,{loading:!0,error:n}):p?m.jsx(Br,{}):m.jsx(Dr,{onClick:()=>{var N;return(N=a==null?void 0:a.current)==null?void 0:N.click()},onDropFile:N=>{const E=new FileReader;E.onload=()=>u(E.result),E.readAsDataURL(N)}}))]})})})]})}ft.defaultProps={error:void 0,imageUploadRef:void 0,js:[],rendering:!1};const pe=je(/[A-Za-z]/),de=je(/[\dA-Za-z]/),qr=je(/[#-'*+\--9=?A-Z^-~]/);function rn(e){return e!==null&&(e<32||e===127)}const an=je(/\d/),Ur=je(/[\dA-Fa-f]/),Wr=je(/[!-/:-@[-`{-~]/);function v(e){return e!==null&&e<-2}function te(e){return e!==null&&(e<0||e===32)}function H(e){return e===-2||e===-1||e===32}const Qr=je(new RegExp("\\p{P}|\\p{S}","u")),Zr=je(/\s/);function je(e){return n;function n(t){return t!==null&&t>-1&&e.test(String.fromCharCode(t))}}var mt={exports:{}};(function(e){(function(){var n;n=e.exports=i,n.format=i,n.vsprintf=r,typeof console<"u"&&typeof console.log=="function"&&(n.printf=t);function t(){console.log(i.apply(null,arguments))}function r(a,s){return i.apply(null,[a].concat(s))}function i(a){for(var s=1,o=[].slice.call(arguments),h=0,l=a.length,p="",u,g=!1,c,C,T=!1,P,k=function(){return o[s++]},B=function(){for(var w="";/\d/.test(a[h]);)w+=a[h++],u=a[h];return w.length>0?parseInt(w):null};h<l;++h)if(u=a[h],g)switch(g=!1,u=="."?(T=!1,u=a[++h]):u=="0"&&a[h+1]=="."?(T=!0,h+=2,u=a[h]):T=!0,P=B(),u){case"b":p+=parseInt(k(),10).toString(2);break;case"c":c=k(),typeof c=="string"||c instanceof String?p+=c:p+=String.fromCharCode(parseInt(c,10));break;case"d":p+=parseInt(k(),10);break;case"f":C=String(parseFloat(k()).toFixed(P||6)),p+=T?C:C.replace(/^0/,"");break;case"j":p+=JSON.stringify(k());break;case"o":p+="0"+parseInt(k(),10).toString(8);break;case"s":p+=k();break;case"x":p+="0x"+parseInt(k(),10).toString(16);break;case"X":p+="0x"+parseInt(k(),10).toString(16).toUpperCase();break;default:p+=u;break}else u==="%"?g=!0:p+=u;return p}})()})(mt);var Gr=mt.exports;const Jr=Kn(Gr),Oe=Object.assign(Ce(Error),{eval:Ce(EvalError),range:Ce(RangeError),reference:Ce(ReferenceError),syntax:Ce(SyntaxError),type:Ce(TypeError),uri:Ce(URIError)});function Ce(e){return n.displayName=e.displayName||e.name,n;function n(t,...r){const i=t&&Jr(t,...r);return new e(i)}}const Re={}.hasOwnProperty,Sn={yaml:"-",toml:"+"};function mn(e){const n=[];let t=-1;const r=Array.isArray(e)?e:e?[e]:["yaml"];for(;++t<r.length;)n[t]=Kr(r[t]);return n}function Kr(e){let n=e;if(typeof n=="string"){if(!Re.call(Sn,n))throw Oe("Missing matter definition for `%s`",n);n={type:n,marker:Sn[n]}}else if(typeof n!="object")throw Oe("Expected matter to be an object, not `%j`",n);if(!Re.call(n,"type"))throw Oe("Missing `type` in matter `%j`",n);if(!Re.call(n,"fence")&&!Re.call(n,"marker"))throw Oe("Missing `marker` or `fence` in matter `%j`",n);return n}function Yr(e){const n=mn(e),t={};let r=-1;for(;++r<n.length;){const i=n[r],a=sn(i,"open").charCodeAt(0),s=Xr(i),o=t[a];Array.isArray(o)?o.push(s):t[a]=[s]}return{flow:t}}function Xr(e){const n=e.anywhere,t=e.type,r=t+"Fence",i=r+"Sequence",a=t+"Value",s={tokenize:p,partial:!0};let o,h=0;return{tokenize:l,concrete:!0};function l(u,g,c){const C=this;return T;function T(S){const N=C.now();return N.column===1&&(N.line===1||n)&&(o=sn(e,"open"),h=0,S===o.charCodeAt(h))?(u.enter(t),u.enter(r),u.enter(i),P(S)):c(S)}function P(S){return h===o.length?(u.exit(i),H(S)?(u.enter("whitespace"),k(S)):B(S)):S===o.charCodeAt(h++)?(u.consume(S),P):c(S)}function k(S){return H(S)?(u.consume(S),k):(u.exit("whitespace"),B(S))}function B(S){return v(S)?(u.exit(r),u.enter("lineEnding"),u.consume(S),u.exit("lineEnding"),o=sn(e,"close"),h=0,u.attempt(s,b,w)):c(S)}function w(S){return S===null||v(S)?$(S):(u.enter(a),M(S))}function M(S){return S===null||v(S)?(u.exit(a),$(S)):(u.consume(S),M)}function $(S){return S===null?c(S):(u.enter("lineEnding"),u.consume(S),u.exit("lineEnding"),u.attempt(s,b,w))}function b(S){return u.exit(t),g(S)}}function p(u,g,c){let C=0;return T;function T(w){return w===o.charCodeAt(C)?(u.enter(r),u.enter(i),P(w)):c(w)}function P(w){return C===o.length?(u.exit(i),H(w)?(u.enter("whitespace"),k(w)):B(w)):w===o.charCodeAt(C++)?(u.consume(w),P):c(w)}function k(w){return H(w)?(u.consume(w),k):(u.exit("whitespace"),B(w))}function B(w){return w===null||v(w)?(u.exit(r),g(w)):c(w)}}}function sn(e,n){return e.marker?jn(e.marker,n).repeat(3):jn(e.fence,n)}function jn(e,n){return typeof e=="string"?e:e[n]}function ei(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function ni(e){const n=mn(e),t={},r={};let i=-1;for(;++i<n.length;){const a=n[i];t[a.type]=ti(a),r[a.type]=ri,r[a.type+"Value"]=ii}return{enter:t,exit:r}}function ti(e){return n;function n(t){this.enter({type:e.type,value:""},t),this.buffer()}}function ri(e){const n=this.resume(),t=this.stack[this.stack.length-1];this.exit(e),t.value=n.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,"")}function ii(e){this.config.enter.data.call(this,e),this.config.exit.data.call(this,e)}function ai(e){const n=[],t={},r=mn(e);let i=-1;for(;++i<r.length;){const a=r[i];t[a.type]=si(a);const s=on(a,"open");n.push({atBreak:!0,character:s.charAt(0),after:ei(s.charAt(1))})}return{unsafe:n,handlers:t}}function si(e){const n=on(e,"open"),t=on(e,"close");return r;function r(i){return n+(i.value?`
`+i.value:"")+`
`+t}}function on(e,n){return e.marker?zn(e.marker,n).repeat(3):zn(e.fence,n)}function zn(e,n){return typeof e=="string"?e:e[n]}const oi="yaml";function li(e){const n=this,t=e||oi,r=n.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Yr(t)),a.push(ni(t)),s.push(ai(t))}const ui={};function ci(e,n){const t=n||ui,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return pt(e,r,i)}function pt(e,n,t){if(hi(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Cn(e.children,n,t)}return Array.isArray(e)?Cn(e,n,t):""}function Cn(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=pt(e[i],n,t);return r.join("")}function hi(e){return!!(e&&typeof e=="object")}const En=document.createElement("i");function pn(e){const n="&"+e+";";En.innerHTML=n;const t=En.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}function ge(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function le(e,n){return e.length>0?(ge(e,e.length,0,n),e):n}const In={}.hasOwnProperty;function di(e){const n={};let t=-1;for(;++t<e.length;)fi(n,e[t]);return n}function fi(e,n){let t;for(t in n){const i=(In.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){In.call(i,s)||(i[s]=[]);const o=a[s];mi(i[s],Array.isArray(o)?o:o?[o]:[])}}}function mi(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);ge(e,0,0,r)}function gt(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"ï¿½":String.fromCodePoint(t)}function Le(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function W(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(h){return H(h)?(e.enter(t),o(h)):n(h)}function o(h){return H(h)&&a++<i?(e.consume(h),o):(e.exit(t),n(h))}}const pi={tokenize:gi};function gi(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),W(e,n,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const h=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=h),t=h,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return v(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const xi={tokenize:bi},vn={tokenize:ki};function bi(e){const n=this,t=[];let r=0,i,a,s;return o;function o(w){if(r<t.length){const M=t[r];return n.containerState=M[1],e.attempt(M[0].continuation,h,l)(w)}return l(w)}function h(w){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&B();const M=n.events.length;let $=M,b;for(;$--;)if(n.events[$][0]==="exit"&&n.events[$][1].type==="chunkFlow"){b=n.events[$][1].end;break}k(r);let S=M;for(;S<n.events.length;)n.events[S][1].end=Object.assign({},b),S++;return ge(n.events,$+1,0,n.events.slice(M)),n.events.length=S,l(w)}return o(w)}function l(w){if(r===t.length){if(!i)return g(w);if(i.currentConstruct&&i.currentConstruct.concrete)return C(w);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(vn,p,u)(w)}function p(w){return i&&B(),k(r),g(w)}function u(w){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,C(w)}function g(w){return n.containerState={},e.attempt(vn,c,C)(w)}function c(w){return r++,t.push([n.currentConstruct,n.containerState]),g(w)}function C(w){if(w===null){i&&B(),k(0),e.consume(w);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),T(w)}function T(w){if(w===null){P(e.exit("chunkFlow"),!0),k(0),e.consume(w);return}return v(w)?(e.consume(w),P(e.exit("chunkFlow")),r=0,n.interrupt=void 0,o):(e.consume(w),T)}function P(w,M){const $=n.sliceStream(w);if(M&&$.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write($),n.parser.lazy[w.start.line]){let b=i.events.length;for(;b--;)if(i.events[b][1].start.offset<s&&(!i.events[b][1].end||i.events[b][1].end.offset>s))return;const S=n.events.length;let N=S,E,F;for(;N--;)if(n.events[N][0]==="exit"&&n.events[N][1].type==="chunkFlow"){if(E){F=n.events[N][1].end;break}E=!0}for(k(r),b=S;b<n.events.length;)n.events[b][1].end=Object.assign({},F),b++;ge(n.events,N+1,0,n.events.slice(S)),n.events.length=b}}function k(w){let M=t.length;for(;M-- >w;){const $=t[M];n.containerState=$[1],$[0].exit.call(n,e)}t.length=w}function B(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function ki(e,n,t){return W(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function An(e){if(e===null||te(e)||Zr(e))return 1;if(Qr(e))return 2}function gn(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const ln={name:"attention",tokenize:yi,resolveAll:wi};function wi(e,n){let t=-1,r,i,a,s,o,h,l,p;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const u=Object.assign({},e[r][1].end),g=Object.assign({},e[t][1].start);Nn(u,-h),Nn(g,h),s={type:h>1?"strongSequence":"emphasisSequence",start:u,end:Object.assign({},e[r][1].end)},o={type:h>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:g},a={type:h>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:h>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},o.end),l=[],e[r][1].end.offset-e[r][1].start.offset&&(l=le(l,[["enter",e[r][1],n],["exit",e[r][1],n]])),l=le(l,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),l=le(l,gn(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),l=le(l,[["exit",a,n],["enter",o,n],["exit",o,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(p=2,l=le(l,[["enter",e[t][1],n],["exit",e[t][1],n]])):p=0,ge(e,r-1,t-r+3,l),t=r+l.length-p-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function yi(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=An(r);let a;return s;function s(h){return a=h,e.enter("attentionSequence"),o(h)}function o(h){if(h===a)return e.consume(h),o;const l=e.exit("attentionSequence"),p=An(h),u=!p||p===2&&i||t.includes(h),g=!i||i===2&&p||t.includes(r);return l._open=!!(a===42?u:u&&(i||!g)),l._close=!!(a===42?g:g&&(p||!u)),n(h)}}function Nn(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const Si={name:"autolink",tokenize:ji};function ji(e,n,t){let r=0;return i;function i(c){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(c){return pe(c)?(e.consume(c),s):l(c)}function s(c){return c===43||c===45||c===46||de(c)?(r=1,o(c)):l(c)}function o(c){return c===58?(e.consume(c),r=0,h):(c===43||c===45||c===46||de(c))&&r++<32?(e.consume(c),o):(r=0,l(c))}function h(c){return c===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),n):c===null||c===32||c===60||rn(c)?t(c):(e.consume(c),h)}function l(c){return c===64?(e.consume(c),p):qr(c)?(e.consume(c),l):t(c)}function p(c){return de(c)?u(c):t(c)}function u(c){return c===46?(e.consume(c),r=0,p):c===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(c),e.exit("autolinkMarker"),e.exit("autolink"),n):g(c)}function g(c){if((c===45||de(c))&&r++<63){const C=c===45?g:u;return e.consume(c),C}return t(c)}}const Ue={tokenize:zi,partial:!0};function zi(e,n,t){return r;function r(a){return H(a)?W(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||v(a)?n(a):t(a)}}const xt={name:"blockQuote",tokenize:Ci,continuation:{tokenize:Ei},exit:Ii};function Ci(e,n,t){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return H(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function Ei(e,n,t){const r=this;return i;function i(s){return H(s)?W(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(xt,n,t)(s)}}function Ii(e){e.exit("blockQuote")}const bt={name:"characterEscape",tokenize:vi};function vi(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Wr(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const kt={name:"characterReference",tokenize:Ai};function Ai(e,n,t){const r=this;let i=0,a,s;return o;function o(u){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),h}function h(u){return u===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(u),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),a=31,s=de,p(u))}function l(u){return u===88||u===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(u),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Ur,p):(e.enter("characterReferenceValue"),a=7,s=an,p(u))}function p(u){if(u===59&&i){const g=e.exit("characterReferenceValue");return s===de&&!pn(r.sliceSerialize(g))?t(u):(e.enter("characterReferenceMarker"),e.consume(u),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(u)&&i++<a?(e.consume(u),p):t(u)}}const Tn={tokenize:Ti,partial:!0},Ln={name:"codeFenced",tokenize:Ni,concrete:!0};function Ni(e,n,t){const r=this,i={tokenize:$,partial:!0};let a=0,s=0,o;return h;function h(b){return l(b)}function l(b){const S=r.events[r.events.length-1];return a=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,o=b,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(b)}function p(b){return b===o?(s++,e.consume(b),p):s<3?t(b):(e.exit("codeFencedFenceSequence"),H(b)?W(e,u,"whitespace")(b):u(b))}function u(b){return b===null||v(b)?(e.exit("codeFencedFence"),r.interrupt?n(b):e.check(Tn,T,M)(b)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(b))}function g(b){return b===null||v(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),u(b)):H(b)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),W(e,c,"whitespace")(b)):b===96&&b===o?t(b):(e.consume(b),g)}function c(b){return b===null||v(b)?u(b):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),C(b))}function C(b){return b===null||v(b)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),u(b)):b===96&&b===o?t(b):(e.consume(b),C)}function T(b){return e.attempt(i,M,P)(b)}function P(b){return e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),k}function k(b){return a>0&&H(b)?W(e,B,"linePrefix",a+1)(b):B(b)}function B(b){return b===null||v(b)?e.check(Tn,T,M)(b):(e.enter("codeFlowValue"),w(b))}function w(b){return b===null||v(b)?(e.exit("codeFlowValue"),B(b)):(e.consume(b),w)}function M(b){return e.exit("codeFenced"),n(b)}function $(b,S,N){let E=0;return F;function F(O){return b.enter("lineEnding"),b.consume(O),b.exit("lineEnding"),j}function j(O){return b.enter("codeFencedFence"),H(O)?W(b,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):z(O)}function z(O){return O===o?(b.enter("codeFencedFenceSequence"),_(O)):N(O)}function _(O){return O===o?(E++,b.consume(O),_):E>=s?(b.exit("codeFencedFenceSequence"),H(O)?W(b,V,"whitespace")(O):V(O)):N(O)}function V(O){return O===null||v(O)?(b.exit("codeFencedFence"),S(O)):N(O)}}}function Ti(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Ze={name:"codeIndented",tokenize:Mi},Li={tokenize:Fi,partial:!0};function Mi(e,n,t){const r=this;return i;function i(l){return e.enter("codeIndented"),W(e,a,"linePrefix",5)(l)}function a(l){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?s(l):t(l)}function s(l){return l===null?h(l):v(l)?e.attempt(Li,s,h)(l):(e.enter("codeFlowValue"),o(l))}function o(l){return l===null||v(l)?(e.exit("codeFlowValue"),s(l)):(e.consume(l),o)}function h(l){return e.exit("codeIndented"),n(l)}}function Fi(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):v(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):W(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?n(s):v(s)?i(s):t(s)}}const Pi={name:"codeText",tokenize:Bi,resolve:_i,previous:Di};function _i(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function Di(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Bi(e,n,t){let r=0,i,a;return s;function s(u){return e.enter("codeText"),e.enter("codeTextSequence"),o(u)}function o(u){return u===96?(e.consume(u),r++,o):(e.exit("codeTextSequence"),h(u))}function h(u){return u===null?t(u):u===32?(e.enter("space"),e.consume(u),e.exit("space"),h):u===96?(a=e.enter("codeTextSequence"),i=0,p(u)):v(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),h):(e.enter("codeTextData"),l(u))}function l(u){return u===null||u===32||u===96||v(u)?(e.exit("codeTextData"),h(u)):(e.consume(u),l)}function p(u){return u===96?(e.consume(u),i++,p):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(u)):(a.type="codeTextData",l(u))}}function wt(e){const n={};let t=-1,r,i,a,s,o,h,l;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,a=0,a<h.length&&h[a][1].type==="lineEndingBlank"&&(a+=2),a<h.length&&h[a][1].type==="content"))for(;++a<h.length&&h[a][1].type!=="content";)h[a][1].type==="chunkText"&&(h[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Oi(e,t)),t=n[t],l=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),o=e.slice(i,t),o.unshift(r),ge(e,i,t-i+1,o))}}return!l}function Oi(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),o=s.events,h=[],l={};let p,u,g=-1,c=t,C=0,T=0;const P=[T];for(;c;){for(;e[++i][1]!==c;);a.push(i),c._tokenizer||(p=r.sliceStream(c),c.next||p.push(null),u&&s.defineSkip(c.start),c._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(p),c._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),u=c,c=c.next}for(c=t;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(T=g+1,P.push(T),c._tokenizer=void 0,c.previous=void 0,c=c.next);for(s.events=[],c?(c._tokenizer=void 0,c.previous=void 0):P.pop(),g=P.length;g--;){const k=o.slice(P[g],P[g+1]),B=a.pop();h.unshift([B,B+k.length-1]),ge(e,B,2,k)}for(g=-1;++g<h.length;)l[C+h[g][0]]=C+h[g][1],C+=h[g][1]-h[g][0]-1;return l}const Ri={tokenize:Vi,resolve:$i},Hi={tokenize:qi,partial:!0};function $i(e){return wt(e),e}function Vi(e,n){let t;return r;function r(o){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):v(o)?e.check(Hi,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),n(o)}function s(o){return e.consume(o),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function qi(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),W(e,a,"linePrefix")}function a(s){if(s===null||v(s))return t(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function yt(e,n,t,r,i,a,s,o,h){const l=h||Number.POSITIVE_INFINITY;let p=0;return u;function u(k){return k===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(k),e.exit(a),g):k===null||k===32||k===41||rn(k)?t(k):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),T(k))}function g(k){return k===62?(e.enter(a),e.consume(k),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(o),e.enter("chunkString",{contentType:"string"}),c(k))}function c(k){return k===62?(e.exit("chunkString"),e.exit(o),g(k)):k===null||k===60||v(k)?t(k):(e.consume(k),k===92?C:c)}function C(k){return k===60||k===62||k===92?(e.consume(k),c):c(k)}function T(k){return!p&&(k===null||k===41||te(k))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),n(k)):p<l&&k===40?(e.consume(k),p++,T):k===41?(e.consume(k),p--,T):k===null||k===32||k===40||rn(k)?t(k):(e.consume(k),k===92?P:T)}function P(k){return k===40||k===41||k===92?(e.consume(k),T):T(k)}}function St(e,n,t,r,i,a){const s=this;let o=0,h;return l;function l(c){return e.enter(r),e.enter(i),e.consume(c),e.exit(i),e.enter(a),p}function p(c){return o>999||c===null||c===91||c===93&&!h||c===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?t(c):c===93?(e.exit(a),e.enter(i),e.consume(c),e.exit(i),e.exit(r),n):v(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),u(c))}function u(c){return c===null||c===91||c===93||v(c)||o++>999?(e.exit("chunkString"),p(c)):(e.consume(c),h||(h=!H(c)),c===92?g:u)}function g(c){return c===91||c===92||c===93?(e.consume(c),o++,u):u(c)}}function jt(e,n,t,r,i,a){let s;return o;function o(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),s=g===40?41:g,h):t(g)}function h(g){return g===s?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),n):(e.enter(a),l(g))}function l(g){return g===s?(e.exit(a),h(s)):g===null?t(g):v(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),W(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===s||g===null||v(g)?(e.exit("chunkString"),l(g)):(e.consume(g),g===92?u:p)}function u(g){return g===s||g===92?(e.consume(g),p):p(g)}}function Pe(e,n){let t;return r;function r(i){return v(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):H(i)?W(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}const Ui={name:"definition",tokenize:Qi},Wi={tokenize:Zi,partial:!0};function Qi(e,n,t){const r=this;let i;return a;function a(c){return e.enter("definition"),s(c)}function s(c){return St.call(r,e,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function o(c){return i=Le(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),c===58?(e.enter("definitionMarker"),e.consume(c),e.exit("definitionMarker"),h):t(c)}function h(c){return te(c)?Pe(e,l)(c):l(c)}function l(c){return yt(e,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(c)}function p(c){return e.attempt(Wi,u,u)(c)}function u(c){return H(c)?W(e,g,"whitespace")(c):g(c)}function g(c){return c===null||v(c)?(e.exit("definition"),r.parser.defined.push(i),n(c)):t(c)}}function Zi(e,n,t){return r;function r(o){return te(o)?Pe(e,i)(o):t(o)}function i(o){return jt(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return H(o)?W(e,s,"whitespace")(o):s(o)}function s(o){return o===null||v(o)?n(o):t(o)}}const Gi={name:"hardBreakEscape",tokenize:Ji};function Ji(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return v(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const Ki={name:"headingAtx",tokenize:Xi,resolve:Yi};function Yi(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},ge(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function Xi(e,n,t){let r=0;return i;function i(p){return e.enter("atxHeading"),a(p)}function a(p){return e.enter("atxHeadingSequence"),s(p)}function s(p){return p===35&&r++<6?(e.consume(p),s):p===null||te(p)?(e.exit("atxHeadingSequence"),o(p)):t(p)}function o(p){return p===35?(e.enter("atxHeadingSequence"),h(p)):p===null||v(p)?(e.exit("atxHeading"),n(p)):H(p)?W(e,o,"whitespace")(p):(e.enter("atxHeadingText"),l(p))}function h(p){return p===35?(e.consume(p),h):(e.exit("atxHeadingSequence"),o(p))}function l(p){return p===null||p===35||te(p)?(e.exit("atxHeadingText"),o(p)):(e.consume(p),l)}}const ea=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Mn=["pre","script","style","textarea"],na={name:"htmlFlow",tokenize:aa,resolveTo:ia,concrete:!0},ta={tokenize:oa,partial:!0},ra={tokenize:sa,partial:!0};function ia(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function aa(e,n,t){const r=this;let i,a,s,o,h;return l;function l(f){return p(f)}function p(f){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(f),u}function u(f){return f===33?(e.consume(f),g):f===47?(e.consume(f),a=!0,T):f===63?(e.consume(f),i=3,r.interrupt?n:d):pe(f)?(e.consume(f),s=String.fromCharCode(f),P):t(f)}function g(f){return f===45?(e.consume(f),i=2,c):f===91?(e.consume(f),i=5,o=0,C):pe(f)?(e.consume(f),i=4,r.interrupt?n:d):t(f)}function c(f){return f===45?(e.consume(f),r.interrupt?n:d):t(f)}function C(f){const ee="CDATA[";return f===ee.charCodeAt(o++)?(e.consume(f),o===ee.length?r.interrupt?n:z:C):t(f)}function T(f){return pe(f)?(e.consume(f),s=String.fromCharCode(f),P):t(f)}function P(f){if(f===null||f===47||f===62||te(f)){const ee=f===47,ue=s.toLowerCase();return!ee&&!a&&Mn.includes(ue)?(i=1,r.interrupt?n(f):z(f)):ea.includes(s.toLowerCase())?(i=6,ee?(e.consume(f),k):r.interrupt?n(f):z(f)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(f):a?B(f):w(f))}return f===45||de(f)?(e.consume(f),s+=String.fromCharCode(f),P):t(f)}function k(f){return f===62?(e.consume(f),r.interrupt?n:z):t(f)}function B(f){return H(f)?(e.consume(f),B):F(f)}function w(f){return f===47?(e.consume(f),F):f===58||f===95||pe(f)?(e.consume(f),M):H(f)?(e.consume(f),w):F(f)}function M(f){return f===45||f===46||f===58||f===95||de(f)?(e.consume(f),M):$(f)}function $(f){return f===61?(e.consume(f),b):H(f)?(e.consume(f),$):w(f)}function b(f){return f===null||f===60||f===61||f===62||f===96?t(f):f===34||f===39?(e.consume(f),h=f,S):H(f)?(e.consume(f),b):N(f)}function S(f){return f===h?(e.consume(f),h=null,E):f===null||v(f)?t(f):(e.consume(f),S)}function N(f){return f===null||f===34||f===39||f===47||f===60||f===61||f===62||f===96||te(f)?$(f):(e.consume(f),N)}function E(f){return f===47||f===62||H(f)?w(f):t(f)}function F(f){return f===62?(e.consume(f),j):t(f)}function j(f){return f===null||v(f)?z(f):H(f)?(e.consume(f),j):t(f)}function z(f){return f===45&&i===2?(e.consume(f),Z):f===60&&i===1?(e.consume(f),G):f===62&&i===4?(e.consume(f),K):f===63&&i===3?(e.consume(f),d):f===93&&i===5?(e.consume(f),ie):v(f)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(ta,Y,_)(f)):f===null||v(f)?(e.exit("htmlFlowData"),_(f)):(e.consume(f),z)}function _(f){return e.check(ra,V,Y)(f)}function V(f){return e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),O}function O(f){return f===null||v(f)?_(f):(e.enter("htmlFlowData"),z(f))}function Z(f){return f===45?(e.consume(f),d):z(f)}function G(f){return f===47?(e.consume(f),s="",X):z(f)}function X(f){if(f===62){const ee=s.toLowerCase();return Mn.includes(ee)?(e.consume(f),K):z(f)}return pe(f)&&s.length<8?(e.consume(f),s+=String.fromCharCode(f),X):z(f)}function ie(f){return f===93?(e.consume(f),d):z(f)}function d(f){return f===62?(e.consume(f),K):f===45&&i===2?(e.consume(f),d):z(f)}function K(f){return f===null||v(f)?(e.exit("htmlFlowData"),Y(f)):(e.consume(f),K)}function Y(f){return e.exit("htmlFlow"),n(f)}}function sa(e,n,t){const r=this;return i;function i(s){return v(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function oa(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ue,n,t)}}const la={name:"htmlText",tokenize:ua};function ua(e,n,t){const r=this;let i,a,s;return o;function o(d){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(d),h}function h(d){return d===33?(e.consume(d),l):d===47?(e.consume(d),$):d===63?(e.consume(d),w):pe(d)?(e.consume(d),N):t(d)}function l(d){return d===45?(e.consume(d),p):d===91?(e.consume(d),a=0,C):pe(d)?(e.consume(d),B):t(d)}function p(d){return d===45?(e.consume(d),c):t(d)}function u(d){return d===null?t(d):d===45?(e.consume(d),g):v(d)?(s=u,G(d)):(e.consume(d),u)}function g(d){return d===45?(e.consume(d),c):u(d)}function c(d){return d===62?Z(d):d===45?g(d):u(d)}function C(d){const K="CDATA[";return d===K.charCodeAt(a++)?(e.consume(d),a===K.length?T:C):t(d)}function T(d){return d===null?t(d):d===93?(e.consume(d),P):v(d)?(s=T,G(d)):(e.consume(d),T)}function P(d){return d===93?(e.consume(d),k):T(d)}function k(d){return d===62?Z(d):d===93?(e.consume(d),k):T(d)}function B(d){return d===null||d===62?Z(d):v(d)?(s=B,G(d)):(e.consume(d),B)}function w(d){return d===null?t(d):d===63?(e.consume(d),M):v(d)?(s=w,G(d)):(e.consume(d),w)}function M(d){return d===62?Z(d):w(d)}function $(d){return pe(d)?(e.consume(d),b):t(d)}function b(d){return d===45||de(d)?(e.consume(d),b):S(d)}function S(d){return v(d)?(s=S,G(d)):H(d)?(e.consume(d),S):Z(d)}function N(d){return d===45||de(d)?(e.consume(d),N):d===47||d===62||te(d)?E(d):t(d)}function E(d){return d===47?(e.consume(d),Z):d===58||d===95||pe(d)?(e.consume(d),F):v(d)?(s=E,G(d)):H(d)?(e.consume(d),E):Z(d)}function F(d){return d===45||d===46||d===58||d===95||de(d)?(e.consume(d),F):j(d)}function j(d){return d===61?(e.consume(d),z):v(d)?(s=j,G(d)):H(d)?(e.consume(d),j):E(d)}function z(d){return d===null||d===60||d===61||d===62||d===96?t(d):d===34||d===39?(e.consume(d),i=d,_):v(d)?(s=z,G(d)):H(d)?(e.consume(d),z):(e.consume(d),V)}function _(d){return d===i?(e.consume(d),i=void 0,O):d===null?t(d):v(d)?(s=_,G(d)):(e.consume(d),_)}function V(d){return d===null||d===34||d===39||d===60||d===61||d===96?t(d):d===47||d===62||te(d)?E(d):(e.consume(d),V)}function O(d){return d===47||d===62||te(d)?E(d):t(d)}function Z(d){return d===62?(e.consume(d),e.exit("htmlTextData"),e.exit("htmlText"),n):t(d)}function G(d){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),X}function X(d){return H(d)?W(e,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):ie(d)}function ie(d){return e.enter("htmlTextData"),s(d)}}const xn={name:"labelEnd",tokenize:pa,resolveTo:ma,resolveAll:fa},ca={tokenize:ga},ha={tokenize:xa},da={tokenize:ba};function fa(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function ma(e,n){let t=e.length,r=0,i,a,s,o;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const h={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},l={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},p={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return o=[["enter",h,n],["enter",l,n]],o=le(o,e.slice(a+1,a+r+3)),o=le(o,[["enter",p,n]]),o=le(o,gn(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),o=le(o,[["exit",p,n],e[s-2],e[s-1],["exit",l,n]]),o=le(o,e.slice(s+1)),o=le(o,[["exit",h,n]]),ge(e,a,e.length,o),e}function pa(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(g){return a?a._inactive?u(g):(s=r.parser.defined.includes(Le(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),h):t(g)}function h(g){return g===40?e.attempt(ca,p,s?p:u)(g):g===91?e.attempt(ha,p,s?l:u)(g):s?p(g):u(g)}function l(g){return e.attempt(da,p,u)(g)}function p(g){return n(g)}function u(g){return a._balanced=!0,t(g)}}function ga(e,n,t){return r;function r(u){return e.enter("resource"),e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),i}function i(u){return te(u)?Pe(e,a)(u):a(u)}function a(u){return u===41?p(u):yt(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(u)}function s(u){return te(u)?Pe(e,h)(u):p(u)}function o(u){return t(u)}function h(u){return u===34||u===39||u===40?jt(e,l,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(u):p(u)}function l(u){return te(u)?Pe(e,p)(u):p(u)}function p(u){return u===41?(e.enter("resourceMarker"),e.consume(u),e.exit("resourceMarker"),e.exit("resource"),n):t(u)}}function xa(e,n,t){const r=this;return i;function i(o){return St.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Le(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(o):t(o)}function s(o){return t(o)}}function ba(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const ka={name:"labelStartImage",tokenize:wa,resolveAll:xn.resolveAll};function wa(e,n,t){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):t(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):n(o)}}const ya={name:"labelStartLink",tokenize:Sa,resolveAll:xn.resolveAll};function Sa(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Ge={name:"lineEnding",tokenize:ja};function ja(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),W(e,n,"linePrefix")}}const $e={name:"thematicBreak",tokenize:za};function za(e,n,t){let r=0,i;return a;function a(l){return e.enter("thematicBreak"),s(l)}function s(l){return i=l,o(l)}function o(l){return l===i?(e.enter("thematicBreakSequence"),h(l)):r>=3&&(l===null||v(l))?(e.exit("thematicBreak"),n(l)):t(l)}function h(l){return l===i?(e.consume(l),r++,h):(e.exit("thematicBreakSequence"),H(l)?W(e,o,"whitespace")(l):o(l))}}const ne={name:"list",tokenize:Ia,continuation:{tokenize:va},exit:Na},Ca={tokenize:Ta,partial:!0},Ea={tokenize:Aa,partial:!0};function Ia(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(c){const C=r.containerState.type||(c===42||c===43||c===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||c===r.containerState.marker:an(c)){if(r.containerState.type||(r.containerState.type=C,e.enter(C,{_container:!0})),C==="listUnordered")return e.enter("listItemPrefix"),c===42||c===45?e.check($e,t,l)(c):l(c);if(!r.interrupt||c===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(c)}return t(c)}function h(c){return an(c)&&++s<10?(e.consume(c),h):(!r.interrupt||s<2)&&(r.containerState.marker?c===r.containerState.marker:c===41||c===46)?(e.exit("listItemValue"),l(c)):t(c)}function l(c){return e.enter("listItemMarker"),e.consume(c),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||c,e.check(Ue,r.interrupt?t:p,e.attempt(Ca,g,u))}function p(c){return r.containerState.initialBlankLine=!0,a++,g(c)}function u(c){return H(c)?(e.enter("listItemPrefixWhitespace"),e.consume(c),e.exit("listItemPrefixWhitespace"),g):t(c)}function g(c){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(c)}}function va(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Ue,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,W(e,n,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!H(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Ea,n,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,W(e,e.attempt(ne,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Aa(e,n,t){const r=this;return W(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function Na(e){e.exit(this.containerState.type)}function Ta(e,n,t){const r=this;return W(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!H(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const Fn={name:"setextUnderline",tokenize:Ma,resolveTo:La};function La(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function Ma(e,n,t){const r=this;let i;return a;function a(l){let p=r.events.length,u;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){u=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||u)?(e.enter("setextHeadingLine"),i=l,s(l)):t(l)}function s(l){return e.enter("setextHeadingLineSequence"),o(l)}function o(l){return l===i?(e.consume(l),o):(e.exit("setextHeadingLineSequence"),H(l)?W(e,h,"lineSuffix")(l):h(l))}function h(l){return l===null||v(l)?(e.exit("setextHeadingLine"),n(l)):t(l)}}const Fa={tokenize:Pa};function Pa(e){const n=this,t=e.attempt(Ue,r,e.attempt(this.parser.constructs.flowInitial,i,W(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Ri,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const _a={resolveAll:Ct()},Da=zt("string"),Ba=zt("text");function zt(e){return{tokenize:n,resolveAll:Ct(e==="text"?Oa:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,o);return s;function s(p){return l(p)?a(p):o(p)}function o(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),h}function h(p){return l(p)?(t.exit("data"),a(p)):(t.consume(p),h)}function l(p){if(p===null)return!0;const u=i[p];let g=-1;if(u)for(;++g<u.length;){const c=u[g];if(!c.previous||c.previous.call(r,r.previous))return!0}return!1}}}function Ct(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function Oa(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,o=0,h;for(;a--;){const l=i[a];if(typeof l=="string"){for(s=l.length;l.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(l===-2)h=!0,o++;else if(l!==-1){a++;break}}if(o){const l={type:t===e.length||h||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},l.start),r.start.offset===r.end.offset?Object.assign(r,l):(e.splice(t,0,["enter",l,n],["exit",l,n]),t+=2)}t++}return e}function Ra(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const h={consume:B,enter:w,exit:M,attempt:S($),check:S(b),interrupt:S(b,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:c,sliceSerialize:g,now:C,defineSkip:T,write:u};let p=n.tokenize.call(l,h);return n.resolveAll&&a.push(n),l;function u(j){return s=le(s,j),P(),s[s.length-1]!==null?[]:(N(n,0),l.events=gn(a,l.events,l),l.events)}function g(j,z){return $a(c(j),z)}function c(j){return Ha(s,j)}function C(){const{line:j,column:z,offset:_,_index:V,_bufferIndex:O}=r;return{line:j,column:z,offset:_,_index:V,_bufferIndex:O}}function T(j){i[j.line]=j.column,F()}function P(){let j;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<z.length;)k(z.charCodeAt(r._bufferIndex));else k(z)}}function k(j){p=p(j)}function B(j){v(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,F()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),l.previous=j}function w(j,z){const _=z||{};return _.type=j,_.start=C(),l.events.push(["enter",_,l]),o.push(_),_}function M(j){const z=o.pop();return z.end=C(),l.events.push(["exit",z,l]),z}function $(j,z){N(j,z.from)}function b(j,z){z.restore()}function S(j,z){return _;function _(V,O,Z){let G,X,ie,d;return Array.isArray(V)?Y(V):"tokenize"in V?Y([V]):K(V);function K(J){return xe;function xe(se){const ce=se!==null&&J[se],fe=se!==null&&J.null,Ae=[...Array.isArray(ce)?ce:ce?[ce]:[],...Array.isArray(fe)?fe:fe?[fe]:[]];return Y(Ae)(se)}}function Y(J){return G=J,X=0,J.length===0?Z:f(J[X])}function f(J){return xe;function xe(se){return d=E(),ie=J,J.partial||(l.currentConstruct=J),J.name&&l.parser.constructs.disable.null.includes(J.name)?ue():J.tokenize.call(z?Object.assign(Object.create(l),z):l,h,ee,ue)(se)}}function ee(J){return j(ie,d),O}function ue(J){return d.restore(),++X<G.length?f(G[X]):Z}}}function N(j,z){j.resolveAll&&!a.includes(j)&&a.push(j),j.resolve&&ge(l.events,z,l.events.length-z,j.resolve(l.events.slice(z),l)),j.resolveTo&&(l.events=j.resolveTo(l.events,l))}function E(){const j=C(),z=l.previous,_=l.currentConstruct,V=l.events.length,O=Array.from(o);return{restore:Z,from:V};function Z(){r=j,l.previous=z,l.currentConstruct=_,l.events.length=V,o=O,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Ha(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function $a(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Va={42:ne,43:ne,45:ne,48:ne,49:ne,50:ne,51:ne,52:ne,53:ne,54:ne,55:ne,56:ne,57:ne,62:xt},qa={91:Ui},Ua={[-2]:Ze,[-1]:Ze,32:Ze},Wa={35:Ki,42:$e,45:[Fn,$e],60:na,61:Fn,95:$e,96:Ln,126:Ln},Qa={38:kt,92:bt},Za={[-5]:Ge,[-4]:Ge,[-3]:Ge,33:ka,38:kt,42:ln,60:[Si,la],91:ya,92:[Gi,bt],93:xn,95:ln,96:Pi},Ga={null:[ln,_a]},Ja={null:[42,95]},Ka={null:[]},Ya=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ja,contentInitial:qa,disable:Ka,document:Va,flow:Wa,flowInitial:Ua,insideSpan:Ga,string:Qa,text:Za},Symbol.toStringTag,{value:"Module"}));function Xa(e){const t=di([Ya,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(pi),document:i(xi),flow:i(Fa),string:i(Da),text:i(Ba)};return r;function i(a){return s;function s(o){return Ra(r,a,o)}}}function es(e){for(;!wt(e););return e}const Pn=/[\0\t\n\r]/g;function ns(){let e=1,n="",t=!0,r;return i;function i(a,s,o){const h=[];let l,p,u,g,c;for(a=n+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),u=0,n="",t&&(a.charCodeAt(0)===65279&&u++,t=void 0);u<a.length;){if(Pn.lastIndex=u,l=Pn.exec(a),g=l&&l.index!==void 0?l.index:a.length,c=a.charCodeAt(g),!l){n=a.slice(u);break}if(c===10&&u===g&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),u<g&&(h.push(a.slice(u,g)),e+=g-u),c){case 0:{h.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,h.push(-2);e++<p;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}u=g+1}return o&&(r&&h.push(-5),n&&h.push(n),h.push(null)),h}}const ts=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function rs(e){return e.replace(ts,is)}function is(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return gt(t.slice(a?2:1),a?16:10)}return pn(t)||e}function _e(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?_n(e.position):"start"in e||"end"in e?_n(e):"line"in e||"column"in e?un(e):""}function un(e){return Dn(e&&e.line)+":"+Dn(e&&e.column)}function _n(e){return un(e&&e.start)+"-"+un(e&&e.end)}function Dn(e){return e&&typeof e=="number"?e:1}const Et={}.hasOwnProperty;function as(e,n,t){return typeof n!="string"&&(t=n,n=void 0),ss(t)(es(Xa(t).document().write(ns()(e,n,!0))))}function ss(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(kn),autolinkProtocol:E,autolinkEmail:E,atxHeading:a(D),blockQuote:a(ce),characterEscape:E,characterReference:E,codeFenced:a(fe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(fe,s),codeText:a(Ae,s),codeTextData:E,data:E,codeFlowValue:E,definition:a(We),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(A),hardBreakEscape:a(q),hardBreakTrailing:a(q),htmlFlow:a(Q,s),htmlFlowData:E,htmlText:a(Q,s),htmlTextData:E,image:a(Qe),label:s,link:a(kn),listItem:a(Tt),listItemValue:g,listOrdered:a(wn,u),listUnordered:a(wn),paragraph:a(Lt),reference:f,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(D),strong:a(Mt),thematicBreak:a(Pt)},exit:{atxHeading:h(),atxHeadingSequence:$,autolink:h(),autolinkEmail:se,autolinkProtocol:xe,blockQuote:h(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:J,codeFenced:h(P),codeFencedFence:T,codeFencedFenceInfo:c,codeFencedFenceMeta:C,codeFlowValue:F,codeIndented:h(k),codeText:h(O),codeTextData:F,data:F,definition:h(),definitionDestinationString:M,definitionLabelString:B,definitionTitleString:w,emphasis:h(),hardBreakEscape:h(z),hardBreakTrailing:h(z),htmlFlow:h(_),htmlFlowData:F,htmlText:h(V),htmlTextData:F,image:h(G),label:ie,labelText:X,lineEnding:j,link:h(Z),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:ee,resourceDestinationString:d,resourceTitleString:K,resource:Y,setextHeading:h(N),setextHeadingLineSequence:S,setextHeadingText:b,strong:h(),thematicBreak:h()}};It(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(x){let y={type:"root",children:[]};const L={stack:[y],tokenStack:[],config:n,enter:o,exit:l,buffer:s,resume:p,data:t},R=[];let U=-1;for(;++U<x.length;)if(x[U][1].type==="listOrdered"||x[U][1].type==="listUnordered")if(x[U][0]==="enter")R.push(U);else{const he=R.pop();U=i(x,he,U)}for(U=-1;++U<x.length;){const he=n[x[U][0]];Et.call(he,x[U][1].type)&&he[x[U][1].type].call(Object.assign({sliceSerialize:x[U][2].sliceSerialize},L),x[U][1])}if(L.tokenStack.length>0){const he=L.tokenStack[L.tokenStack.length-1];(he[1]||Bn).call(L,void 0,he[0])}for(y.position={start:ye(x.length>0?x[0][1].start:{line:1,column:1,offset:0}),end:ye(x.length>0?x[x.length-2][1].end:{line:1,column:1,offset:0})},U=-1;++U<n.transforms.length;)y=n.transforms[U](y)||y;return y}function i(x,y,L){let R=y-1,U=-1,he=!1,ze,be,Me,Fe;for(;++R<=L;){const ae=x[R];switch(ae[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ae[0]==="enter"?U++:U--,Fe=void 0;break}case"lineEndingBlank":{ae[0]==="enter"&&(ze&&!Fe&&!U&&!Me&&(Me=R),Fe=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Fe=void 0}if(!U&&ae[0]==="enter"&&ae[1].type==="listItemPrefix"||U===-1&&ae[0]==="exit"&&(ae[1].type==="listUnordered"||ae[1].type==="listOrdered")){if(ze){let Ne=R;for(be=void 0;Ne--;){const ke=x[Ne];if(ke[1].type==="lineEnding"||ke[1].type==="lineEndingBlank"){if(ke[0]==="exit")continue;be&&(x[be][1].type="lineEndingBlank",he=!0),ke[1].type="lineEnding",be=Ne}else if(!(ke[1].type==="linePrefix"||ke[1].type==="blockQuotePrefix"||ke[1].type==="blockQuotePrefixWhitespace"||ke[1].type==="blockQuoteMarker"||ke[1].type==="listItemIndent"))break}Me&&(!be||Me<be)&&(ze._spread=!0),ze.end=Object.assign({},be?x[be][1].start:ae[1].end),x.splice(be||R,0,["exit",ze,ae[2]]),R++,L++}if(ae[1].type==="listItemPrefix"){const Ne={type:"listItem",_spread:!1,start:Object.assign({},ae[1].start),end:void 0};ze=Ne,x.splice(R,0,["enter",Ne,ae[2]]),R++,L++,Me=void 0,Fe=!0}}}return x[y][1]._spread=he,L}function a(x,y){return L;function L(R){o.call(this,x(R),R),y&&y.call(this,R)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(x,y,L){this.stack[this.stack.length-1].children.push(x),this.stack.push(x),this.tokenStack.push([y,L]),x.position={start:ye(y.start),end:void 0}}function h(x){return y;function y(L){x&&x.call(this,L),l.call(this,L)}}function l(x,y){const L=this.stack.pop(),R=this.tokenStack.pop();if(R)R[0].type!==x.type&&(y?y.call(this,x,R[0]):(R[1]||Bn).call(this,x,R[0]));else throw new Error("Cannot close `"+x.type+"` ("+_e({start:x.start,end:x.end})+"): itâ€™s not open");L.position.end=ye(x.end)}function p(){return ci(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function g(x){if(this.data.expectingFirstListItemValue){const y=this.stack[this.stack.length-2];y.start=Number.parseInt(this.sliceSerialize(x),10),this.data.expectingFirstListItemValue=void 0}}function c(){const x=this.resume(),y=this.stack[this.stack.length-1];y.lang=x}function C(){const x=this.resume(),y=this.stack[this.stack.length-1];y.meta=x}function T(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x.replace(/(\r?\n|\r)$/g,"")}function B(x){const y=this.resume(),L=this.stack[this.stack.length-1];L.label=y,L.identifier=Le(this.sliceSerialize(x)).toLowerCase()}function w(){const x=this.resume(),y=this.stack[this.stack.length-1];y.title=x}function M(){const x=this.resume(),y=this.stack[this.stack.length-1];y.url=x}function $(x){const y=this.stack[this.stack.length-1];if(!y.depth){const L=this.sliceSerialize(x).length;y.depth=L}}function b(){this.data.setextHeadingSlurpLineEnding=!0}function S(x){const y=this.stack[this.stack.length-1];y.depth=this.sliceSerialize(x).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function E(x){const L=this.stack[this.stack.length-1].children;let R=L[L.length-1];(!R||R.type!=="text")&&(R=Ft(),R.position={start:ye(x.start),end:void 0},L.push(R)),this.stack.push(R)}function F(x){const y=this.stack.pop();y.value+=this.sliceSerialize(x),y.position.end=ye(x.end)}function j(x){const y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const L=y.children[y.children.length-1];L.position.end=ye(x.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(y.type)&&(E.call(this,x),F.call(this,x))}function z(){this.data.atHardBreak=!0}function _(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x}function V(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x}function O(){const x=this.resume(),y=this.stack[this.stack.length-1];y.value=x}function Z(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const y=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=y,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function G(){const x=this.stack[this.stack.length-1];if(this.data.inReference){const y=this.data.referenceType||"shortcut";x.type+="Reference",x.referenceType=y,delete x.url,delete x.title}else delete x.identifier,delete x.label;this.data.referenceType=void 0}function X(x){const y=this.sliceSerialize(x),L=this.stack[this.stack.length-2];L.label=rs(y),L.identifier=Le(y).toLowerCase()}function ie(){const x=this.stack[this.stack.length-1],y=this.resume(),L=this.stack[this.stack.length-1];if(this.data.inReference=!0,L.type==="link"){const R=x.children;L.children=R}else L.alt=y}function d(){const x=this.resume(),y=this.stack[this.stack.length-1];y.url=x}function K(){const x=this.resume(),y=this.stack[this.stack.length-1];y.title=x}function Y(){this.data.inReference=void 0}function f(){this.data.referenceType="collapsed"}function ee(x){const y=this.resume(),L=this.stack[this.stack.length-1];L.label=y,L.identifier=Le(this.sliceSerialize(x)).toLowerCase(),this.data.referenceType="full"}function ue(x){this.data.characterReferenceType=x.type}function J(x){const y=this.sliceSerialize(x),L=this.data.characterReferenceType;let R;L?(R=gt(y,L==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):R=pn(y);const U=this.stack.pop();U.value+=R,U.position.end=ye(x.end)}function xe(x){F.call(this,x);const y=this.stack[this.stack.length-1];y.url=this.sliceSerialize(x)}function se(x){F.call(this,x);const y=this.stack[this.stack.length-1];y.url="mailto:"+this.sliceSerialize(x)}function ce(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function We(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function A(){return{type:"emphasis",children:[]}}function D(){return{type:"heading",depth:0,children:[]}}function q(){return{type:"break"}}function Q(){return{type:"html",value:""}}function Qe(){return{type:"image",title:null,url:"",alt:null}}function kn(){return{type:"link",title:null,url:"",children:[]}}function wn(x){return{type:"list",ordered:x.type==="listOrdered",start:null,spread:x._spread,children:[]}}function Tt(x){return{type:"listItem",spread:x._spread,checked:null,children:[]}}function Lt(){return{type:"paragraph",children:[]}}function Mt(){return{type:"strong",children:[]}}function Ft(){return{type:"text",value:""}}function Pt(){return{type:"thematicBreak"}}}function ye(e){return{line:e.line,column:e.column,offset:e.offset}}function It(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?It(e,r):os(e,r)}}function os(e,n){let t;for(t in n)if(Et.call(n,t))switch(t){case"canContainEols":{const r=n[t];r&&e[t].push(...r);break}case"transforms":{const r=n[t];r&&e[t].push(...r);break}case"enter":case"exit":{const r=n[t];r&&Object.assign(e[t],r);break}}}function Bn(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+_e({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+_e({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+_e({start:n.start,end:n.end})+") is still open")}function ls(e){const n=this;n.parser=t;function t(r){return as(r,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function On(e){if(e)throw e}var Ve=Object.prototype.hasOwnProperty,vt=Object.prototype.toString,Rn=Object.defineProperty,Hn=Object.getOwnPropertyDescriptor,$n=function(n){return typeof Array.isArray=="function"?Array.isArray(n):vt.call(n)==="[object Array]"},Vn=function(n){if(!n||vt.call(n)!=="[object Object]")return!1;var t=Ve.call(n,"constructor"),r=n.constructor&&n.constructor.prototype&&Ve.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!t&&!r)return!1;var i;for(i in n);return typeof i>"u"||Ve.call(n,i)},qn=function(n,t){Rn&&t.name==="__proto__"?Rn(n,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):n[t.name]=t.newValue},Un=function(n,t){if(t==="__proto__")if(Ve.call(n,t)){if(Hn)return Hn(n,t).value}else return;return n[t]},us=function e(){var n,t,r,i,a,s,o=arguments[0],h=1,l=arguments.length,p=!1;for(typeof o=="boolean"&&(p=o,o=arguments[1]||{},h=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});h<l;++h)if(n=arguments[h],n!=null)for(t in n)r=Un(o,t),i=Un(n,t),o!==i&&(p&&i&&(Vn(i)||(a=$n(i)))?(a?(a=!1,s=r&&$n(r)?r:[]):s=r&&Vn(r)?r:{},qn(o,{name:t,newValue:e(p,s,i)})):typeof i<"u"&&qn(o,{name:t,newValue:i}));return o};const Je=Kn(us);function cn(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function cs(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(h,...l){const p=e[++a];let u=-1;if(h){s(h);return}for(;++u<i.length;)(l[u]===null||l[u]===void 0)&&(l[u]=i[u]);i=l,p?hs(p,o)(...l):s(null,...l)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function hs(e,n){let t;return r;function r(...s){const o=e.length>s.length;let h;o&&s.push(i);try{h=e.apply(this,s)}catch(l){const p=l;if(o&&t)throw p;return i(p)}o||(h&&h.then&&typeof h.then=="function"?h.then(a,i):h instanceof Error?i(h):a(h))}function i(s,...o){t||(t=!0,n(s,...o))}function a(s){i(null,s)}}class re extends Error{constructor(n,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",a={},s=!1;if(t&&("line"in t&&"column"in t?a={place:t}:"start"in t&&"end"in t?a={place:t}:"type"in t?a={ancestors:[t],place:t.position}:a={...t}),typeof n=="string"?i=n:!a.cause&&n&&(s=!0,i=n.message,a.cause=n),!a.ruleId&&!a.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?a.ruleId=r:(a.source=r.slice(0,h),a.ruleId=r.slice(h+1))}if(!a.place&&a.ancestors&&a.ancestors){const h=a.ancestors[a.ancestors.length-1];h&&(a.place=h.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=_e(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}re.prototype.file="";re.prototype.name="";re.prototype.reason="";re.prototype.message="";re.prototype.stack="";re.prototype.column=void 0;re.prototype.line=void 0;re.prototype.ancestors=void 0;re.prototype.cause=void 0;re.prototype.fatal=void 0;re.prototype.place=void 0;re.prototype.ruleId=void 0;re.prototype.source=void 0;const me={basename:ds,dirname:fs,extname:ms,join:ps,sep:"/"};function ds(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Be(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,o=n.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===n.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function fs(e){if(Be(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.codePointAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function ms(e){Be(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const o=e.codePointAt(n);if(o===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),o===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function ps(...e){let n=-1,t;for(;++n<e.length;)Be(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":gs(t)}function gs(e){Be(e);const n=e.codePointAt(0)===47;let t=xs(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.codePointAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function xs(e,n){let t="",r=0,i=-1,a=0,s=-1,o,h;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(h=t.lastIndexOf("/"),h!==t.length-1){h<0?(t="",r=0):(t=t.slice(0,h),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return t}function Be(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const bs={cwd:ks};function ks(){return"/"}function hn(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ws(e){if(typeof e=="string")e=new URL(e);else if(!hn(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return ys(e)}function ys(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.codePointAt(t)===37&&n.codePointAt(t+1)===50){const r=n.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Ke=["history","path","basename","stem","extname","dirname"];class Ss{constructor(n){let t;n?hn(n)?t={path:n}:typeof n=="string"||js(n)?t={value:n}:t=n:t={},this.cwd=bs.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ke.length;){const a=Ke[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)Ke.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?me.basename(this.path):void 0}set basename(n){Xe(n,"basename"),Ye(n,"basename"),this.path=me.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?me.dirname(this.path):void 0}set dirname(n){Wn(this.basename,"dirname"),this.path=me.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?me.extname(this.path):void 0}set extname(n){if(Ye(n,"extname"),Wn(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=me.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){hn(n)&&(n=ws(n)),Xe(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?me.basename(this.path,this.extname):void 0}set stem(n){Xe(n,"stem"),Ye(n,"stem"),this.path=me.join(this.dirname||"",n+(this.extname||""))}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=void 0,i}message(n,t,r){const i=new re(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function Ye(e,n){if(e&&e.includes(me.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+me.sep+"`")}function Xe(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function Wn(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function js(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zs=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const s=Object.getOwnPropertyNames(i);for(const o of s){const h=Object.getOwnPropertyDescriptor(i,o);h&&Object.defineProperty(a,o,h)}return a},Cs={}.hasOwnProperty;class bn extends zs{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=cs()}copy(){const n=new bn;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];n.use(...r)}return n.data(Je(!0,{},this.namespace)),n}data(n,t){return typeof n=="string"?arguments.length===2?(tn("data",this.frozen),this.namespace[n]=t,this):Cs.call(this.namespace,n)&&this.namespace[n]||void 0:n?(tn("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(n,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const t=He(n),r=this.parser||this.Parser;return en("parse",r),r(String(t),t)}process(n,t){const r=this;return this.freeze(),en("process",this.parser||this.Parser),nn("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(a,s){const o=He(n),h=r.parse(o);r.run(h,o,function(p,u,g){if(p||!u||!g)return l(p);const c=u,C=r.stringify(c,g);vs(C)?g.value=C:g.result=C,l(p,g)});function l(p,u){p||!u?s(p):a?a(u):t(void 0,u)}}}processSync(n){let t=!1,r;return this.freeze(),en("processSync",this.parser||this.Parser),nn("processSync",this.compiler||this.Compiler),this.process(n,i),Zn("processSync","process",t),r;function i(a,s){t=!0,On(a),r=s}}run(n,t,r){Qn(n),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const h=He(t);i.run(n,h,l);function l(p,u,g){const c=u||n;p?o(p):s?s(c):r(void 0,c,g)}}}runSync(n,t){let r=!1,i;return this.run(n,t,a),Zn("runSync","run",r),i;function a(s,o){On(s),i=o,r=!0}}stringify(n,t){this.freeze();const r=He(t),i=this.compiler||this.Compiler;return nn("stringify",i),Qn(n),i(n,r)}use(n,...t){const r=this.attachers,i=this.namespace;if(tn("use",this.frozen),n!=null)if(typeof n=="function")h(n,t);else if(typeof n=="object")Array.isArray(n)?o(n):s(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function a(l){if(typeof l=="function")h(l,[]);else if(typeof l=="object")if(Array.isArray(l)){const[p,...u]=l;h(p,u)}else s(l);else throw new TypeError("Expected usable value, not `"+l+"`")}function s(l){if(!("plugins"in l)&&!("settings"in l))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(l.plugins),l.settings&&(i.settings=Je(!0,i.settings,l.settings))}function o(l){let p=-1;if(l!=null)if(Array.isArray(l))for(;++p<l.length;){const u=l[p];a(u)}else throw new TypeError("Expected a list of plugins, not `"+l+"`")}function h(l,p){let u=-1,g=-1;for(;++u<r.length;)if(r[u][0]===l){g=u;break}if(g===-1)r.push([l,...p]);else if(p.length>0){let[c,...C]=p;const T=r[g][1];cn(T)&&cn(c)&&(c=Je(!0,T,c)),r[g]=[l,c,...C]}}}}const Es=new bn().freeze();function en(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function nn(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function tn(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Qn(e){if(!cn(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Zn(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function He(e){return Is(e)?e:new Ss(e)}function Is(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function vs(e){return typeof e=="string"||As(e)}function As(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}function Ns(e,n={}){var o,h;const t={},r=Es().use(ls).use(li).parse(e.replace("```yaml\n",""));let i;for(const l of r.children){if(l.type==="yaml"){i=l;break}if(l.type==="heading"&&l.children[0].type==="text"&&l.children[0].value.includes("name: ")){[i]=l.children;break}}if(!i&&r.children[0]&&(r.children[0].type==="heading"||r.children[0].type==="paragraph")&&(i=r.children[0].children[0]),i){const l=(o=i.value.split(`
`).find(u=>u.startsWith("name: ")))==null?void 0:o.replace("name: ",""),p=(h=i.value.split(`
`).find(u=>u.startsWith("emoji: ")))==null?void 0:h.replace("emoji: ","");t.name=l,t.emoji=p}else e.length>50&&!n.emoji&&console.warn("No frontmatter",e.slice(0,100));const a=r.children.filter(l=>l.type==="code"||l.type==="html");for(const l of r.children)if(l.type==="paragraph"){let p="";if(l.children[0].type==="html")for(const u of l.children)p=p+u.value||"";a.push({type:"code",lang:"html",value:p})}const s=r.children.filter(l=>l.type==="code"&&l.lang==="javascript");return t.html=[...a.map(l=>l.value),...s.map(l=>`<script type="text/javascript">${l.value}<\/script>`)].join(`
`),t}const Ts="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Ls=(e=21)=>{let n="",t=crypto.getRandomValues(new Uint8Array(e));for(;e--;)n+=Ts[t[e]&63];return n};function Ms(e){let n=e.replaceAll("-gray-","-zinc-");return n=n.replaceAll("via.placeholder.com","placehold.co"),n=n.replaceAll(/"[^"]*\.(mp3|wav)"|'[^']*\.(mp3|wav)'/g,'"'+document.location.origin+'/openui/funky.mp3"'),n=n.replaceAll(/<!--[\s\S]*?-->/g,""),n}function At(e){try{const{childNodes:n}=e;for(let t=n.length-1;t>=0;t-=1){const r=n[t];r.nodeType===Node.COMMENT_NODE?r.remove():r.nodeType===Node.ELEMENT_NODE&&At(r)}}catch(n){console.error(n)}}function Gn(e){return console.log("New Chapter called",e),`

---
prompt: ${e}
---

`}function Nt({shared:e}){const n=Jn(),[t,r]=_t(),i=Dt(),a=n.id??"new",[s,o]=oe(kr),[h,l]=I.useState(s),[p,u]=oe(De({id:a})),[g,c]=oe(it),[C,T]=oe(at),[P,k]=oe(dn),[B,w]=oe(Yn),M=cr(),$=Te(wr),b=Te(yr),S=Te(Sr),N=I.useRef(null),E=I.useRef(null),F=(p.markdown??"").split(/---\nprompt:.+\n---/gm).pop(),[j,z]=I.useState(F??""),[_,V]=I.useState(p.html??""),[O,Z]=I.useState(),[G,X]=I.useState([]),[ie,d]=I.useState(j!==""),[K,Y]=I.useState(!1),[f,ee]=I.useState(j!==""),ue=ie?"refine":"create",J=zr(j),xe=Cr(`(min-width: ${Er}px)`);I.useEffect(()=>{},[_,p]),I.useEffect(()=>{e&&(async()=>{const A=await hr(a);u(A),V(A.html??"")})().catch(A=>{console.error(A),setTimeout(()=>Z(A.toString()),1e3)})},[e,a,u]),I.useEffect(()=>{h.length!==s.length&&(M(),l(s))},[s,h.length,M]),I.useEffect(()=>{d((j||"").trim()!=="")},[j]),I.useEffect(()=>{if(n.id==="new"){Z(void 0),c(""),z(""),X([]),ee(!1);return}window._item=p,z((p.markdown??"").split(/---\nprompt:.+\n---/gm).pop()??"")},[n.id]);const se=I.useCallback(A=>{A.trim()!==""&&(console.log("Saving:",A),u(D=>({...D,markdown:(D.markdown??"")+A})),M())},[M,u]),ce=I.useCallback((A,D,q=!1)=>{Y(!0),z(""),c(""),Z(void 0),dr({query:A,model:$,action:ue,systemPrompt:S,html:q?void 0:D,image:q?void 0:P,temperature:b},Q=>{z(Qe=>(Qe||"")+Q)}).then(Q=>{k(""),Y(!1),se(Q),E.current&&(E.current.value="")}).catch(Q=>{Y(!1),k(""),se(""),console.error(Q),Z(Q.message)})},[$,ue,P,S,z,Y,Z,c,se,b]);I.useEffect(()=>{const A=t.get("gen")==="1",D=t.get("clear")==="true";A&&!p.markdown&&!K&&(r(new URLSearchParams,{preventScrollReset:!0,replace:!0}),ce(p.prompt,void 0,D))},[p,K,r,t,ce]),I.useEffect(()=>{try{if(!j||n.id==="new"){V("");return}Z(void 0);const A=Ns(j,{name:p.name,emoji:p.emoji});A.html?(u(D=>({...D,...A})),V(Ms(A.html))):K||Z("No HTML in response.  View the response in the chat history.")}catch(A){u(D=>({...D,name:"Error"})),console.error(A)}},[J]),I.useEffect(()=>{const A=q=>{q.shiftKey&&d(!1)},D=q=>{q.key==="Shift"&&d(j!=="")};return document.addEventListener("keydown",A),document.addEventListener("keyup",D),()=>{document.removeEventListener("keydown",A),document.removeEventListener("keyup",D)}},[j]);const fe=I.useCallback((A,D=!0)=>{const q=Ls();z(""),De({id:q,prompt:A,createdAt:new Date}),o(Q=>[q,...Q]),i(`/ai/${q}?gen=1&clear=${D}`)},[i,o]),Ae=async A=>{var q;A.preventDefault();let D=((q=E.current)==null?void 0:q.value.trim())??"";if(!(P===""&&D==="")){if(ue==="create"){fe(D,P==="");return}z(""),console.log("Submit",p.name),u(Q=>({...Q,markdown:Q.markdown+Gn(D),prompts:[...Q.prompts??[Q.prompt],D]})),ce(D,_)}};function We(A){const D=A.querySelectorAll("script"),q=[];for(const Q of D)q.push({text:Q.innerHTML,src:Q.src,type:Q.type});return q}return I.useEffect(()=>{if(n.id==="new"){V("");return}const D=new DOMParser().parseFromString(_,"text/html");At(D.body),u(q=>({...q,html:D.body.innerHTML})),X(We(D))},[_,u,n.id,p.name]),I.useEffect(()=>{if(!B)return;const A=B;w(void 0),Y(!0);const D=p.components??{};fr({model:$,framework:A,html:_,temperature:b},q=>{u(Q=>(D[A]===void 0&&(D[A]=""),D[A]+=q,{...Q,components:{...D}}))}).then(()=>{M(),Y(!1)}).catch(q=>{Y(!1),console.error(q)})},[B,u,M,w,p.components,$,_,b]),I.useEffect(()=>{g!==""&&(u(A=>({...A,markdown:A.markdown+Gn(C[0])})),T([]),ce("",g))},[g,C]),m.jsxs("div",{className:"flex-col bg-secondary",children:[m.jsxs("div",{className:"p-2",children:[m.jsx(ft,{id:a,html:_,js:G,error:O,imageUploadRef:N,rendering:K}),m.jsx(Lr,{id:a,code:_,shared:e??!1}),s.length<=2&&m.jsx(ot,{className:we("absolute left-[calc(50%)] w-11/12 -translate-x-1/2",f&&"-bottom-10 opacity-0"),style:{bottom:xe?"130px":"230px"},callback:A=>{fe(A)}})]}),m.jsx(Se,{onClick:()=>{const A=!f;ee(A),E.current&&!A&&E.current.focus()},variant:"ghost",size:"icon",className:"absolute left-[calc(50%-1.25rem)] z-10 hover:scale-125 hover:animate-pulse hover:bg-transparent",style:{bottom:`${xe?10:100}px`},children:f?m.jsx(mr,{className:"inline-block h-5 w-5"}):m.jsx(pr,{className:"inline-block h-5 w-5"})}),m.jsxs(Bt,{onSubmit:Ae,children:[m.jsx("input",{ref:N,id:"file-input",type:"file",className:"hidden",accept:"image/*",onChange:A=>{var Q;const D=((Q=A.target.files)==null?void 0:Q[0])??null;if(D===null)return;const q=new FileReader;q.onload=()=>k(q.result),q.readAsDataURL(D)}}),m.jsxs("div",{id:"llm-input",className:we("absolute left-[calc(50%)] z-0 flex w-11/12 -translate-x-1/2 justify-center rounded-full bg-background px-8 py-4 align-middle transition-all duration-500 lg:max-w-full",f&&"translate-y-24 opacity-0"),style:{bottom:`${xe?45:145}px`},children:[m.jsx(gr,{name:"query",rows:1,className:"min-h-[41px] min-w-0 flex-1 resize-none rounded-none border-none text-base focus-visible:ring-0 focus-visible:ring-offset-0",placeholder:ie?"Ask for changes to the current UI":P?"Describe the screenshot you uploaded (Optional)":"Describe a UI you desire",ref:E,onKeyDown:async A=>{A.key==="Enter"&&await Ae(A)}}),m.jsx("div",{className:"flex items-center",children:K?m.jsx("div",{className:"h-8 w-8 flex-none animate-spin rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-red-500"}):m.jsx(Se,{className:"h-8 w-8 flex-none rounded-full",variant:"outline",size:"icon",type:"submit",children:ie?m.jsx(xr,{className:"h-6 w-6"}):m.jsx(br,{className:"h-6 w-6"})})})]})]})]})}Nt.defaultProps={shared:!1};const Ds=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"}));export{Ds as B,re as V,de as a,Ss as b,ls as r,Es as u};
