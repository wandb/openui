import{r as t,u as We,j as c,L as Ot,l as j,_ as y,m as qe,n as Ge,o as Re,p as Vt,q as Me,s as A,v as Bt,w as N,x as te,y as Lt,z as Ye,A as Ht,B as Kt,C as zt,D as Ft,E as Ut,F as Wt,G as qt,H as Gt,O as Yt}from"./vendor-QOAI5TVB.js";import{c as Xe,u as Ze,h as xe,a as Xt,D as Zt,b as Qt,B as Q,d as Jt,e as eo,f as Ve,g as Qe,i as Je,j as et,k as tt,l as ot,m as Te,G as nt,n as to,o as oo,$ as rt,p as at,q as no,r as ro,R as ao,s as so,C as co,t as me,v as lo,T as io,w as fo,x as uo,y as po,z as mo,A as ho,E as go,P as vo,F as xo,H as $o}from"./textarea-B1ki1GUl.js";import{c as k,u as wo,E as bo,L as So,M as yo}from"./index-DPhcnF3j.js";function Co({title:e}){return t.useEffect(()=>{document.title=e},[e]),null}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=Xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function ct({id:e,label:n,isActive:o=!1,isCollapsed:r=!1}){const a=Ze(xe({id:e})),l=We(),i=Xt(Qe);return c.jsxs(c.Fragment,{children:[!!n&&c.jsx("div",{className:"mb-2 w-full text-xs",children:c.jsx("h3",{children:n})}),c.jsxs("div",{className:`${o&&"bg-secondary"} group relative mb-2 w-full rounded-md p-2 text-sm hover:bg-secondary`,children:[c.jsx(Ot,{to:`/ai/${e}`,className:"flex items-center active:text-black",children:c.jsxs("div",{className:"relative grow overflow-hidden whitespace-nowrap",children:[`${a.emoji??"ðŸ¤”"} `,a.name??a.prompt,c.jsx("div",{className:k("absolute bottom-0 right-0 top-0 w-8 bg-gradient-to-l from-zinc-300 from-0% to-transparent group-hover:right-5 group-hover:from-secondary dark:from-zinc-900",{"from-secondary":o,"dark:from-secondary":o})})]})}),c.jsx("div",{className:"absolute bottom-0 right-0 top-0 flex items-center bg-secondary pr-2 opacity-0 group-hover:opacity-100",children:c.jsxs(Zt,{modal:!1,children:[c.jsx(Qt,{asChild:!0,children:c.jsx(Q,{className:"h-5 w-5 text-sm hover:ring-transparent focus-visible:ring-0",variant:"ghost",size:"icon",children:c.jsx(Jt,{className:"inline-block h-4 w-4"})})}),c.jsxs(eo,{children:[c.jsx(Ve,{children:"Copy"}),c.jsx(Ve,{onClick:()=>{i(s=>s.filter(d=>d!==e)),xe.remove({id:e}),localStorage.removeItem(`${e}.html`),localStorage.removeItem(`${e}.md`),l("/ai/new")},children:"Delete"})]})]})}),c.jsx(Q,{onClick:()=>l(`/ai/${e}`),className:k("absolute -right-[58px] top-0 z-50 ml-auto inline-flex h-8 w-8 p-2 hover:scale-110 hover:bg-inherit",r&&"ml-10",o&&"bg-zinc-900"),variant:"ghost",size:"icon",children:a.emoji??"ðŸ¤”"})]})]})}ct.defaultProps={label:void 0};/*! js-cookie v3.0.5 | MIT */function ue(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)e[r]=o[r]}return e}var Po={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Ne(e,n){function o(a,l,i){if(!(typeof document>"u")){i=ue({},n,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var d in i)i[d]&&(s+="; "+d,i[d]!==!0&&(s+="="+i[d].split(";")[0]));return document.cookie=a+"="+e.write(l,a)+s}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var l=document.cookie?document.cookie.split("; "):[],i={},s=0;s<l.length;s++){var d=l[s].split("="),u=d.slice(1).join("=");try{var p=decodeURIComponent(d[0]);if(i[p]=e.read(u,p),a===p)break}catch{}}return a?i[a]:i}}return Object.create({set:o,get:r,remove:function(a,l){o(a,"",ue({},l,{expires:-1}))},withAttributes:function(a){return Ne(this.converter,ue({},this.attributes,a))},withConverter:function(a){return Ne(ue({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var Be=Ne(Po,{path:"/"});function Io(){const[e,n]=t.useState(),[o,r]=t.useState(!1);return t.useEffect(()=>{const l=async()=>{const s=await to();r(s===void 0)},i=Be.get("error");i&&(n(i),Be.remove("error")),l().catch(s=>console.error(s))},[]),c.jsx(Je,{open:o,onOpenChange:l=>{console.log(l)},children:c.jsxs(et,{noClose:!0,className:"sm:max-w-[425px]",children:[c.jsxs(tt,{children:[c.jsx(ot,{children:"Login"}),e?c.jsx(Te,{className:"mb-2 text-red-500 dark:text-red-400",children:e}):c.jsx(Te,{children:"To enforce usage quotas an account is required."})]}),c.jsx("div",{className:"items-center",children:c.jsx(Q,{asChild:!0,children:c.jsxs("a",{href:"/v1/login",children:[c.jsx(nt,{className:"mr-2"})," Login with GitHub"]})})})]})})}async function _o(){try{return(await(await fetch("/v1/models")).json()).models}catch(e){return console.error(e),{openai:[],groq:[],ollama:[]}}}const Ro=t.forwardRef((e,n)=>t.createElement(j.label,y({},e,{ref:n,onMouseDown:o=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault()}}))),lt=Ro,To=oo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=t.forwardRef(({className:e,...n},o)=>c.jsx(lt,{ref:o,className:k(To(),e),...n}));he.displayName=lt.displayName;function $e(e,[n,o]){return Math.min(o,Math.max(n,e))}function it(e){const n=t.useRef({value:e,previous:e});return t.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}const No=[" ","Enter","ArrowUp","ArrowDown"],Do=[" ","Enter"],we="Select",[be,Se,jo]=rt(we),[le,Yn]=qe(we,[jo,Ge]),ke=Ge(),[Mo,oe]=le(we),[ko,Ao]=le(we),Oo=e=>{const{__scopeSelect:n,children:o,open:r,defaultOpen:a,onOpenChange:l,value:i,defaultValue:s,onValueChange:d,dir:u,name:p,autoComplete:f,disabled:x,required:b}=e,m=ke(n),[v,S]=t.useState(null),[$,h]=t.useState(null),[g,M]=t.useState(!1),D=at(u),[J=!1,E]=Re({prop:r,defaultProp:a,onChange:l}),[V,q]=Re({prop:i,defaultProp:s,onChange:d}),ee=t.useRef(null),X=v?!!v.closest("form"):!0,[K,B]=t.useState(new Set),P=Array.from(K).map(C=>C.props.value).join(";");return t.createElement(Vt,m,t.createElement(Mo,{required:b,scope:n,trigger:v,onTriggerChange:S,valueNode:$,onValueNodeChange:h,valueNodeHasChildren:g,onValueNodeHasChildrenChange:M,contentId:Me(),value:V,onValueChange:q,open:J,onOpenChange:E,dir:D,triggerPointerDownPosRef:ee,disabled:x},t.createElement(be.Provider,{scope:n},t.createElement(ko,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(C=>{B(O=>new Set(O).add(C))},[]),onNativeOptionRemove:t.useCallback(C=>{B(O=>{const z=new Set(O);return z.delete(C),z})},[])},o)),X?t.createElement(mt,{key:P,"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:f,value:V,onChange:C=>q(C.target.value),disabled:x},V===void 0?t.createElement("option",{value:""}):null,Array.from(K)):null))},Vo="SelectTrigger",Bo=t.forwardRef((e,n)=>{const{__scopeSelect:o,disabled:r=!1,...a}=e,l=ke(o),i=oe(Vo,o),s=i.disabled||r,d=A(n,i.onTriggerChange),u=Se(o),[p,f,x]=ht(m=>{const v=u().filter(h=>!h.disabled),S=v.find(h=>h.value===i.value),$=gt(v,m,S);$!==void 0&&i.onValueChange($.value)}),b=()=>{s||(i.onOpenChange(!0),x())};return t.createElement(Bt,y({asChild:!0},l),t.createElement(j.button,y({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":pt(i.value)?"":void 0},a,{ref:d,onClick:N(a.onClick,m=>{m.currentTarget.focus()}),onPointerDown:N(a.onPointerDown,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(b(),i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)},m.preventDefault())}),onKeyDown:N(a.onKeyDown,m=>{const v=p.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&No.includes(m.key)&&(b(),m.preventDefault())})})))}),Lo="SelectValue",Ho=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:a,children:l,placeholder:i="",...s}=e,d=oe(Lo,o),{onValueNodeHasChildrenChange:u}=d,p=l!==void 0,f=A(n,d.onValueNodeChange);return te(()=>{u(p)},[u,p]),t.createElement(j.span,y({},s,{ref:f,style:{pointerEvents:"none"}}),pt(d.value)?t.createElement(t.Fragment,null,i):l)}),Ko=t.forwardRef((e,n)=>{const{__scopeSelect:o,children:r,...a}=e;return t.createElement(j.span,y({"aria-hidden":!0},a,{ref:n}),r||"â–¼")}),zo=e=>t.createElement(Lt,y({asChild:!0},e)),ce="SelectContent",Fo=t.forwardRef((e,n)=>{const o=oe(ce,e.__scopeSelect),[r,a]=t.useState();if(te(()=>{a(new DocumentFragment)},[]),!o.open){const l=r;return l?Ye.createPortal(t.createElement(dt,{scope:e.__scopeSelect},t.createElement(be.Slot,{scope:e.__scopeSelect},t.createElement("div",null,e.children))),l):null}return t.createElement(Uo,y({},e,{ref:n}))}),Z=10,[dt,ne]=le(ce),Uo=t.forwardRef((e,n)=>{const{__scopeSelect:o,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:i,side:s,sideOffset:d,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:x,collisionPadding:b,sticky:m,hideWhenDetached:v,avoidCollisions:S,...$}=e,h=oe(ce,o),[g,M]=t.useState(null),[D,J]=t.useState(null),E=A(n,w=>M(w)),[V,q]=t.useState(null),[ee,X]=t.useState(null),K=Se(o),[B,P]=t.useState(!1),C=t.useRef(!1);t.useEffect(()=>{if(g)return no(g)},[g]),ro();const O=t.useCallback(w=>{const[R,...H]=K().map(_=>_.ref.current),[T]=H.slice(-1),I=document.activeElement;for(const _ of w)if(_===I||(_==null||_.scrollIntoView({block:"nearest"}),_===R&&D&&(D.scrollTop=0),_===T&&D&&(D.scrollTop=D.scrollHeight),_==null||_.focus(),document.activeElement!==I))return},[K,D]),z=t.useCallback(()=>O([V,g]),[O,V,g]);t.useEffect(()=>{B&&z()},[B,z]);const{onOpenChange:G,triggerPointerDownPosRef:L}=h;t.useEffect(()=>{if(g){let w={x:0,y:0};const R=T=>{var I,_,U,W;w={x:Math.abs(Math.round(T.pageX)-((I=(_=L.current)===null||_===void 0?void 0:_.x)!==null&&I!==void 0?I:0)),y:Math.abs(Math.round(T.pageY)-((U=(W=L.current)===null||W===void 0?void 0:W.y)!==null&&U!==void 0?U:0))}},H=T=>{w.x<=10&&w.y<=10?T.preventDefault():g.contains(T.target)||G(!1),document.removeEventListener("pointermove",R),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",H,{capture:!0})}}},[g,G,L]),t.useEffect(()=>{const w=()=>G(!1);return window.addEventListener("blur",w),window.addEventListener("resize",w),()=>{window.removeEventListener("blur",w),window.removeEventListener("resize",w)}},[G]);const[Y,F]=ht(w=>{const R=K().filter(I=>!I.disabled),H=R.find(I=>I.ref.current===document.activeElement),T=gt(R,w,H);T&&setTimeout(()=>T.ref.current.focus())}),re=t.useCallback((w,R,H)=>{const T=!C.current&&!H;(h.value!==void 0&&h.value===R||T)&&(q(w),T&&(C.current=!0))},[h.value]),Ce=t.useCallback(()=>g==null?void 0:g.focus(),[g]),ae=t.useCallback((w,R,H)=>{const T=!C.current&&!H;(h.value!==void 0&&h.value===R||T)&&X(w)},[h.value]),fe=r==="popper"?Le:Wo,ie=fe===Le?{side:s,sideOffset:d,align:u,alignOffset:p,arrowPadding:f,collisionBoundary:x,collisionPadding:b,sticky:m,hideWhenDetached:v,avoidCollisions:S}:{};return t.createElement(dt,{scope:o,content:g,viewport:D,onViewportChange:J,itemRefCallback:re,selectedItem:V,onItemLeave:Ce,itemTextRefCallback:ae,focusSelectedItem:z,selectedItemText:ee,position:r,isPositioned:B,searchRef:Y},t.createElement(ao,{as:Ht,allowPinchZoom:!0},t.createElement(so,{asChild:!0,trapped:h.open,onMountAutoFocus:w=>{w.preventDefault()},onUnmountAutoFocus:N(a,w=>{var R;(R=h.trigger)===null||R===void 0||R.focus({preventScroll:!0}),w.preventDefault()})},t.createElement(Kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:w=>w.preventDefault(),onDismiss:()=>h.onOpenChange(!1)},t.createElement(fe,y({role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:w=>w.preventDefault()},$,ie,{onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...$.style},onKeyDown:N($.onKeyDown,w=>{const R=w.ctrlKey||w.altKey||w.metaKey;if(w.key==="Tab"&&w.preventDefault(),!R&&w.key.length===1&&F(w.key),["ArrowUp","ArrowDown","Home","End"].includes(w.key)){let T=K().filter(I=>!I.disabled).map(I=>I.ref.current);if(["ArrowUp","End"].includes(w.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(w.key)){const I=w.target,_=T.indexOf(I);T=T.slice(_+1)}setTimeout(()=>O(T)),w.preventDefault()}})}))))))}),Wo=t.forwardRef((e,n)=>{const{__scopeSelect:o,onPlaced:r,...a}=e,l=oe(ce,o),i=ne(ce,o),[s,d]=t.useState(null),[u,p]=t.useState(null),f=A(n,E=>p(E)),x=Se(o),b=t.useRef(!1),m=t.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:$,focusSelectedItem:h}=i,g=t.useCallback(()=>{if(l.trigger&&l.valueNode&&s&&u&&v&&S&&$){const E=l.trigger.getBoundingClientRect(),V=u.getBoundingClientRect(),q=l.valueNode.getBoundingClientRect(),ee=$.getBoundingClientRect();if(l.dir!=="rtl"){const I=ee.left-V.left,_=q.left-I,U=E.left-_,W=E.width+U,Ee=Math.max(W,V.width),Pe=window.innerWidth-Z,Ie=$e(_,[Z,Pe-Ee]);s.style.minWidth=W+"px",s.style.left=Ie+"px"}else{const I=V.right-ee.right,_=window.innerWidth-q.right-I,U=window.innerWidth-E.right-_,W=E.width+U,Ee=Math.max(W,V.width),Pe=window.innerWidth-Z,Ie=$e(_,[Z,Pe-Ee]);s.style.minWidth=W+"px",s.style.right=Ie+"px"}const X=x(),K=window.innerHeight-Z*2,B=v.scrollHeight,P=window.getComputedStyle(u),C=parseInt(P.borderTopWidth,10),O=parseInt(P.paddingTop,10),z=parseInt(P.borderBottomWidth,10),G=parseInt(P.paddingBottom,10),L=C+O+B+G+z,Y=Math.min(S.offsetHeight*5,L),F=window.getComputedStyle(v),re=parseInt(F.paddingTop,10),Ce=parseInt(F.paddingBottom,10),ae=E.top+E.height/2-Z,fe=K-ae,ie=S.offsetHeight/2,w=S.offsetTop+ie,R=C+O+w,H=L-R;if(R<=ae){const I=S===X[X.length-1].ref.current;s.style.bottom="0px";const _=u.clientHeight-v.offsetTop-v.offsetHeight,U=Math.max(fe,ie+(I?Ce:0)+_+z),W=R+U;s.style.height=W+"px"}else{const I=S===X[0].ref.current;s.style.top="0px";const U=Math.max(ae,C+v.offsetTop+(I?re:0)+ie)+H;s.style.height=U+"px",v.scrollTop=R-ae+v.offsetTop}s.style.margin=`${Z}px 0`,s.style.minHeight=Y+"px",s.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,l.trigger,l.valueNode,s,u,v,S,$,l.dir,r]);te(()=>g(),[g]);const[M,D]=t.useState();te(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const J=t.useCallback(E=>{E&&m.current===!0&&(g(),h==null||h(),m.current=!1)},[g,h]);return t.createElement(qo,{scope:o,contentWrapper:s,shouldExpandOnScrollRef:b,onScrollButtonChange:J},t.createElement("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M}},t.createElement(j.div,y({},a,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Le=t.forwardRef((e,n)=>{const{__scopeSelect:o,align:r="start",collisionPadding:a=Z,...l}=e,i=ke(o);return t.createElement(Ut,y({},i,l,{ref:n,align:r,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[qo,Ae]=le(ce,{}),He="SelectViewport",Go=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=ne(He,o),l=Ae(He,o),i=A(n,a.onViewportChange),s=t.useRef(0);return t.createElement(t.Fragment,null,t.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),t.createElement(be.Slot,{scope:o},t.createElement(j.div,y({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:N(r.onScroll,d=>{const u=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=l;if(f!=null&&f.current&&p){const x=Math.abs(s.current-u.scrollTop);if(x>0){const b=window.innerHeight-Z*2,m=parseFloat(p.style.minHeight),v=parseFloat(p.style.height),S=Math.max(m,v);if(S<b){const $=S+x,h=Math.min(b,$),g=$-h;p.style.height=h+"px",p.style.bottom==="0px"&&(u.scrollTop=g>0?g:0,p.style.justifyContent="flex-end")}}}s.current=u.scrollTop})}))))}),Yo="SelectGroup",[Xo,Zo]=le(Yo),Qo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=Me();return t.createElement(Xo,{scope:o,id:a},t.createElement(j.div,y({role:"group","aria-labelledby":a},r,{ref:n})))}),Jo="SelectLabel",en=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=Zo(Jo,o);return t.createElement(j.div,y({id:a.id},r,{ref:n}))}),De="SelectItem",[tn,ft]=le(De),on=t.forwardRef((e,n)=>{const{__scopeSelect:o,value:r,disabled:a=!1,textValue:l,...i}=e,s=oe(De,o),d=ne(De,o),u=s.value===r,[p,f]=t.useState(l??""),[x,b]=t.useState(!1),m=A(n,$=>{var h;return(h=d.itemRefCallback)===null||h===void 0?void 0:h.call(d,$,r,a)}),v=Me(),S=()=>{a||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.createElement(tn,{scope:o,value:r,disabled:a,textId:v,isSelected:u,onItemTextChange:t.useCallback($=>{f(h=>{var g;return h||((g=$==null?void 0:$.textContent)!==null&&g!==void 0?g:"").trim()})},[])},t.createElement(be.ItemSlot,{scope:o,value:r,disabled:a,textValue:p},t.createElement(j.div,y({role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},i,{ref:m,onFocus:N(i.onFocus,()=>b(!0)),onBlur:N(i.onBlur,()=>b(!1)),onPointerUp:N(i.onPointerUp,S),onPointerMove:N(i.onPointerMove,$=>{if(a){var h;(h=d.onItemLeave)===null||h===void 0||h.call(d)}else $.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(i.onPointerLeave,$=>{if($.currentTarget===document.activeElement){var h;(h=d.onItemLeave)===null||h===void 0||h.call(d)}}),onKeyDown:N(i.onKeyDown,$=>{var h;((h=d.searchRef)===null||h===void 0?void 0:h.current)!==""&&$.key===" "||(Do.includes($.key)&&S(),$.key===" "&&$.preventDefault())})}))))}),pe="SelectItemText",nn=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:a,...l}=e,i=oe(pe,o),s=ne(pe,o),d=ft(pe,o),u=Ao(pe,o),[p,f]=t.useState(null),x=A(n,$=>f($),d.onItemTextChange,$=>{var h;return(h=s.itemTextRefCallback)===null||h===void 0?void 0:h.call(s,$,d.value,d.disabled)}),b=p==null?void 0:p.textContent,m=t.useMemo(()=>t.createElement("option",{key:d.value,value:d.value,disabled:d.disabled},b),[d.disabled,d.value,b]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=u;return te(()=>(v(m),()=>S(m)),[v,S,m]),t.createElement(t.Fragment,null,t.createElement(j.span,y({id:d.textId},l,{ref:x})),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ye.createPortal(l.children,i.valueNode):null)}),rn="SelectItemIndicator",an=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return ft(rn,o).isSelected?t.createElement(j.span,y({"aria-hidden":!0},r,{ref:n})):null}),Ke="SelectScrollUpButton",sn=t.forwardRef((e,n)=>{const o=ne(Ke,e.__scopeSelect),r=Ae(Ke,e.__scopeSelect),[a,l]=t.useState(!1),i=A(n,r.onScrollButtonChange);return te(()=>{if(o.viewport&&o.isPositioned){let d=function(){const u=s.scrollTop>0;l(u)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),a?t.createElement(ut,y({},e,{ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:d}=o;s&&d&&(s.scrollTop=s.scrollTop-d.offsetHeight)}})):null}),ze="SelectScrollDownButton",cn=t.forwardRef((e,n)=>{const o=ne(ze,e.__scopeSelect),r=Ae(ze,e.__scopeSelect),[a,l]=t.useState(!1),i=A(n,r.onScrollButtonChange);return te(()=>{if(o.viewport&&o.isPositioned){let d=function(){const u=s.scrollHeight-s.clientHeight,p=Math.ceil(s.scrollTop)<u;l(p)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),a?t.createElement(ut,y({},e,{ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:d}=o;s&&d&&(s.scrollTop=s.scrollTop+d.offsetHeight)}})):null}),ut=t.forwardRef((e,n)=>{const{__scopeSelect:o,onAutoScroll:r,...a}=e,l=ne("SelectScrollButton",o),i=t.useRef(null),s=Se(o),d=t.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return t.useEffect(()=>()=>d(),[d]),te(()=>{var u;const p=s().find(f=>f.ref.current===document.activeElement);p==null||(u=p.ref.current)===null||u===void 0||u.scrollIntoView({block:"nearest"})},[s]),t.createElement(j.div,y({"aria-hidden":!0},a,{ref:n,style:{flexShrink:0,...a.style},onPointerDown:N(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:N(a.onPointerMove,()=>{var u;(u=l.onItemLeave)===null||u===void 0||u.call(l),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:N(a.onPointerLeave,()=>{d()})}))}),ln=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return t.createElement(j.div,y({"aria-hidden":!0},r,{ref:n}))});function pt(e){return e===""||e===void 0}const mt=t.forwardRef((e,n)=>{const{value:o,...r}=e,a=t.useRef(null),l=A(n,a),i=it(o);return t.useEffect(()=>{const s=a.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==o&&p){const f=new Event("change",{bubbles:!0});p.call(s,o),s.dispatchEvent(f)}},[i,o]),t.createElement(zt,{asChild:!0},t.createElement("select",y({},r,{ref:l,defaultValue:o})))});mt.displayName="BubbleSelect";function ht(e){const n=Ft(e),o=t.useRef(""),r=t.useRef(0),a=t.useCallback(i=>{const s=o.current+i;n(s),function d(u){o.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(s)},[n]),l=t.useCallback(()=>{o.current="",window.clearTimeout(r.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(r.current),[]),[o,a,l]}function gt(e,n,o){const a=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,l=o?e.indexOf(o):-1;let i=dn(e,Math.max(l,0));a.length===1&&(i=i.filter(u=>u!==o));const d=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==o?d:void 0}function dn(e,n){return e.map((o,r)=>e[(n+r)%e.length])}const fn=Oo,vt=Bo,un=Ho,pn=Ko,mn=zo,xt=Fo,hn=Go,gn=Qo,$t=en,wt=on,vn=nn,xn=an,bt=sn,St=cn,yt=ln,$n=fn,_e=gn,wn=un,Ct=t.forwardRef(({className:e,children:n,...o},r)=>c.jsxs(vt,{ref:r,className:k("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...o,children:[n,c.jsx(pn,{asChild:!0,children:c.jsx(st,{className:"h-4 w-4 opacity-50"})})]}));Ct.displayName=vt.displayName;const Et=t.forwardRef(({className:e,...n},o)=>c.jsx(bt,{ref:o,className:k("flex cursor-default items-center justify-center py-1",e),...n,children:c.jsx(Eo,{className:"h-4 w-4"})}));Et.displayName=bt.displayName;const Pt=t.forwardRef(({className:e,...n},o)=>c.jsx(St,{ref:o,className:k("flex cursor-default items-center justify-center py-1",e),...n,children:c.jsx(st,{className:"h-4 w-4"})}));Pt.displayName=St.displayName;const ge=t.forwardRef(({className:e,children:n,position:o="popper",...r},a)=>c.jsx(mn,{children:c.jsxs(xt,{ref:a,className:k("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:o,...r,children:[c.jsx(Et,{}),c.jsx(hn,{className:k("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),c.jsx(Pt,{})]})}));ge.displayName=xt.displayName;const ve=t.forwardRef(({className:e,...n},o)=>c.jsx($t,{ref:o,className:k("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));ve.displayName=$t.displayName;const se=t.forwardRef(({className:e,children:n,...o},r)=>c.jsxs(wt,{ref:r,className:k("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...o,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(xn,{children:c.jsx(co,{className:"h-4 w-4"})})}),c.jsx(vn,{children:n})]}));se.displayName=wt.displayName;const bn=t.forwardRef(({className:e,...n},o)=>c.jsx(yt,{ref:o,className:k("-mx-1 my-1 h-px bg-muted",e),...n}));bn.displayName=yt.displayName;const It=["PageUp","PageDown"],_t=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rt={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},de="Slider",[je,Sn,yn]=rt(de),[Tt,Xn]=qe(de,[yn]),[Cn,ye]=Tt(de),En=t.forwardRef((e,n)=>{const{name:o,min:r=0,max:a=100,step:l=1,orientation:i="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[r],value:p,onValueChange:f=()=>{},onValueCommit:x=()=>{},inverted:b=!1,...m}=e,[v,S]=t.useState(null),$=A(n,P=>S(P)),h=t.useRef(new Set),g=t.useRef(0),M=i==="horizontal",D=v?!!v.closest("form"):!0,J=M?Pn:In,[E=[],V]=Re({prop:p,defaultProp:u,onChange:P=>{var C;(C=[...h.current][g.current])===null||C===void 0||C.focus(),f(P)}}),q=t.useRef(E);function ee(P){const C=An(E,P);B(P,C)}function X(P){B(P,g.current)}function K(){const P=q.current[g.current];E[g.current]!==P&&x(E)}function B(P,C,{commit:O}={commit:!1}){const z=Ln(l),G=Hn(Math.round((P-r)/l)*l+r,z),L=$e(G,[r,a]);V((Y=[])=>{const F=Mn(Y,L,C);if(Bn(F,d*l)){g.current=F.indexOf(L);const re=String(F)!==String(Y);return re&&O&&x(F),re?F:Y}else return Y})}return t.createElement(Cn,{scope:e.__scopeSlider,disabled:s,min:r,max:a,valueIndexToChangeRef:g,thumbs:h.current,values:E,orientation:i},t.createElement(je.Provider,{scope:e.__scopeSlider},t.createElement(je.Slot,{scope:e.__scopeSlider},t.createElement(J,y({"aria-disabled":s,"data-disabled":s?"":void 0},m,{ref:$,onPointerDown:N(m.onPointerDown,()=>{s||(q.current=E)}),min:r,max:a,inverted:b,onSlideStart:s?void 0:ee,onSlideMove:s?void 0:X,onSlideEnd:s?void 0:K,onHomeKeyDown:()=>!s&&B(r,0,{commit:!0}),onEndKeyDown:()=>!s&&B(a,E.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:C})=>{if(!s){const G=It.includes(P.key)||P.shiftKey&&_t.includes(P.key)?10:1,L=g.current,Y=E[L],F=l*G*C;B(Y+F,L,{commit:!0})}}})))),D&&E.map((P,C)=>t.createElement(jn,{key:C,name:o?o+(E.length>1?"[]":""):void 0,value:P})))}),[Nt,Dt]=Tt(de,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Pn=t.forwardRef((e,n)=>{const{min:o,max:r,dir:a,inverted:l,onSlideStart:i,onSlideMove:s,onSlideEnd:d,onStepKeyDown:u,...p}=e,[f,x]=t.useState(null),b=A(n,g=>x(g)),m=t.useRef(),v=at(a),S=v==="ltr",$=S&&!l||!S&&l;function h(g){const M=m.current||f.getBoundingClientRect(),D=[0,M.width],E=Oe(D,$?[o,r]:[r,o]);return m.current=M,E(g-M.left)}return t.createElement(Nt,{scope:e.__scopeSlider,startEdge:$?"left":"right",endEdge:$?"right":"left",direction:$?1:-1,size:"width"},t.createElement(jt,y({dir:v,"data-orientation":"horizontal"},p,{ref:b,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:g=>{const M=h(g.clientX);i==null||i(M)},onSlideMove:g=>{const M=h(g.clientX);s==null||s(M)},onSlideEnd:()=>{m.current=void 0,d==null||d()},onStepKeyDown:g=>{const D=Rt[$?"from-left":"from-right"].includes(g.key);u==null||u({event:g,direction:D?-1:1})}})))}),In=t.forwardRef((e,n)=>{const{min:o,max:r,inverted:a,onSlideStart:l,onSlideMove:i,onSlideEnd:s,onStepKeyDown:d,...u}=e,p=t.useRef(null),f=A(n,p),x=t.useRef(),b=!a;function m(v){const S=x.current||p.current.getBoundingClientRect(),$=[0,S.height],g=Oe($,b?[r,o]:[o,r]);return x.current=S,g(v-S.top)}return t.createElement(Nt,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1},t.createElement(jt,y({"data-orientation":"vertical"},u,{ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const S=m(v.clientY);l==null||l(S)},onSlideMove:v=>{const S=m(v.clientY);i==null||i(S)},onSlideEnd:()=>{x.current=void 0,s==null||s()},onStepKeyDown:v=>{const $=Rt[b?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:$?-1:1})}})))}),jt=t.forwardRef((e,n)=>{const{__scopeSlider:o,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:i,onEndKeyDown:s,onStepKeyDown:d,...u}=e,p=ye(de,o);return t.createElement(j.span,y({},u,{ref:n,onKeyDown:N(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(s(f),f.preventDefault()):It.concat(_t).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:N(e.onPointerDown,f=>{const x=f.target;x.setPointerCapture(f.pointerId),f.preventDefault(),p.thumbs.has(x)?x.focus():r(f)}),onPointerMove:N(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:N(e.onPointerUp,f=>{const x=f.target;x.hasPointerCapture(f.pointerId)&&(x.releasePointerCapture(f.pointerId),l(f))})}))}),_n="SliderTrack",Rn=t.forwardRef((e,n)=>{const{__scopeSlider:o,...r}=e,a=ye(_n,o);return t.createElement(j.span,y({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},r,{ref:n}))}),Fe="SliderRange",Tn=t.forwardRef((e,n)=>{const{__scopeSlider:o,...r}=e,a=ye(Fe,o),l=Dt(Fe,o),i=t.useRef(null),s=A(n,i),d=a.values.length,u=a.values.map(x=>Mt(x,a.min,a.max)),p=d>1?Math.min(...u):0,f=100-Math.max(...u);return t.createElement(j.span,y({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},r,{ref:s,style:{...e.style,[l.startEdge]:p+"%",[l.endEdge]:f+"%"}}))}),Ue="SliderThumb",Nn=t.forwardRef((e,n)=>{const o=Sn(e.__scopeSlider),[r,a]=t.useState(null),l=A(n,s=>a(s)),i=t.useMemo(()=>r?o().findIndex(s=>s.ref.current===r):-1,[o,r]);return t.createElement(Dn,y({},e,{ref:l,index:i}))}),Dn=t.forwardRef((e,n)=>{const{__scopeSlider:o,index:r,...a}=e,l=ye(Ue,o),i=Dt(Ue,o),[s,d]=t.useState(null),u=A(n,S=>d(S)),p=Wt(s),f=l.values[r],x=f===void 0?0:Mt(f,l.min,l.max),b=kn(r,l.values.length),m=p==null?void 0:p[i.size],v=m?On(m,x,i.direction):0;return t.useEffect(()=>{if(s)return l.thumbs.add(s),()=>{l.thumbs.delete(s)}},[s,l.thumbs]),t.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${x}% + ${v}px)`}},t.createElement(je.ItemSlot,{scope:e.__scopeSlider},t.createElement(j.span,y({role:"slider","aria-label":e["aria-label"]||b,"aria-valuemin":l.min,"aria-valuenow":f,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0},a,{ref:u,style:f===void 0?{display:"none"}:e.style,onFocus:N(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})}))))}),jn=e=>{const{value:n,...o}=e,r=t.useRef(null),a=it(n);return t.useEffect(()=>{const l=r.current,i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==n&&d){const u=new Event("input",{bubbles:!0});d.call(l,n),l.dispatchEvent(u)}},[a,n]),t.createElement("input",y({style:{display:"none"}},o,{ref:r,defaultValue:n}))};function Mn(e=[],n,o){const r=[...e];return r[o]=n,r.sort((a,l)=>a-l)}function Mt(e,n,o){const l=100/(o-n)*(e-n);return $e(l,[0,100])}function kn(e,n){return n>2?`Value ${e+1} of ${n}`:n===2?["Minimum","Maximum"][e]:void 0}function An(e,n){if(e.length===1)return 0;const o=e.map(a=>Math.abs(a-n)),r=Math.min(...o);return o.indexOf(r)}function On(e,n,o){const r=e/2,l=Oe([0,50],[0,r]);return(r-l(n)*o)*o}function Vn(e){return e.slice(0,-1).map((n,o)=>e[o+1]-n)}function Bn(e,n){if(n>0){const o=Vn(e);return Math.min(...o)>=n}return!0}function Oe(e,n){return o=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(o-e[0])}}function Ln(e){return(String(e).split(".")[1]||"").length}function Hn(e,n){const o=Math.pow(10,n);return Math.round(e*o)/o}const kt=En,Kn=Rn,zn=Tn,Fn=Nn,At=t.forwardRef(({className:e,...n},o)=>c.jsxs(kt,{ref:o,className:k("relative flex w-full touch-none select-none items-center",e),...n,children:[c.jsx(Kn,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(zn,{className:"absolute h-full bg-primary"})}),c.jsx(Fn,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));At.displayName=kt.displayName;function Un({trigger:e}){const{isPending:n,isError:o,error:r,data:a}=qt({queryKey:["models"],queryFn:_o}),[l,i]=me(uo),[s,d]=me(po),[u,p]=me(mo);return t.useEffect(()=>{r&&console.error("Error fetching models",r)},[r]),t.useEffect(()=>{a&&a.groq.length>0&&a.openai.length===0&&i(`groq/${a.groq[2].id}`)},[a,i]),c.jsxs(Je,{children:[c.jsx(lo,{asChild:!0,children:e}),c.jsxs(et,{className:"max-w-3xl",children:[c.jsxs(tt,{children:[c.jsx(ot,{children:"Settings"}),c.jsx(Te,{children:"Make changes to your settings or logout"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(he,{className:"text-right",htmlFor:"model",children:"Model"}),c.jsxs($n,{value:l,onValueChange:f=>{i(f)},children:[c.jsx(Ct,{className:"min-w-[200px]",children:c.jsx(wn,{placeholder:"Switch models"})}),n?c.jsx(ge,{children:"Loading..."}):void 0,o?c.jsx(ge,{children:"Error, see console..."}):void 0,a?c.jsxs(ge,{children:[a.openai.length>0&&c.jsxs(_e,{children:[c.jsx(ve,{children:"OpenAI"}),c.jsx(se,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),c.jsx(se,{value:"gpt-4o",children:"GPT-4o"}),c.jsx(se,{value:"gpt-4-turbo",children:"GPT-4 Turbo"})]}),a.groq.length>0&&c.jsxs(_e,{children:[c.jsx(ve,{children:"Groq"}),a.groq.map(f=>c.jsx(se,{value:`groq/${f.id}`,children:f.id},f.id))]}),a.ollama.length>0&&c.jsxs(_e,{children:[c.jsx(ve,{children:"Ollama"}),a.ollama.map(f=>c.jsx(se,{value:`ollama/${f.name}`,children:f.name},f.digest))]})]}):void 0]})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(he,{className:"text-right",htmlFor:"prompt",children:"System Prompt"}),c.jsx(io,{className:"col-span-3",id:"prompt",onChange:f=>d(f.target.value),value:s})]}),c.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[c.jsx(he,{className:"text-right",htmlFor:"temperature",children:"Temperature"}),c.jsx(At,{min:0,max:1,step:.05,onValueChange:f=>p(f[0]),value:[u],className:"col-span-3",id:"temperature"})]}),c.jsx("div",{className:"mt-3 grid grid-cols-4 items-center gap-4",children:c.jsxs("div",{className:"col-start-4 flex justify-end",children:[c.jsx(Q,{variant:"secondary",onClick:()=>{fetch("/v1/session",{method:"DELETE"}).then(()=>document.location.reload()).catch(f=>console.error(f))},children:"Logout"}),c.jsx(fo,{asChild:!0,children:c.jsx(Q,{type:"button",className:"ml-2",children:"Update"})})]})})]})]})]})}function Zn(){const e=wo(`(min-width: ${yo}px)`),[n,o]=t.useState(!e),r=We(),[a]=me(Qe),l=Gt(),i=Ze(xe({id:l.id??"new"})),s=ho();t.useEffect(()=>{l.id===void 0&&(console.log("redirecting"),r("/ai/new"))},[l.id,r]),t.useEffect(()=>{o(!e)},[e,o]);const d=new Date,u=new Date(d.getTime()-24*60*60*1e3),p=new Date(d.getTime()-7*24*60*60*1e3);let f="";return c.jsxs("div",{className:"mobile-safe-container flex overflow-hidden bg-secondary",children:[c.jsx(Co,{title:i.name??"Create a new Element"}),c.jsx(Io,{}),c.jsxs("div",{className:k(`${n?"w-0":"w-[300px]"} flex h-screen flex-none flex-col border-r border-input bg-zinc-300 transition-all duration-300 ease-in-out dark:bg-zinc-900`,!e&&!n&&"absolute z-50"),children:[c.jsxs("div",{className:"flex items-center pb-2 pl-4",children:[c.jsx("h2",{className:`${n?"opacity-0":"opacity-100"} text-sm text-secondary-foreground transition-all duration-300`,children:"History"}),c.jsx(Q,{asChild:!0,size:"icon",variant:"ghost",className:"ml-auto inline-flex p-2 hover:bg-inherit",children:c.jsx("a",{"aria-label":"GitHub",rel:"noreferrer",target:"_blank",href:"https://github.com/wandb/openui",children:c.jsx(nt,{className:"h-5 w-5"})})}),c.jsx(Un,{trigger:c.jsx(Q,{className:k("inline-flex p-2 hover:scale-110 hover:bg-inherit",!n&&"-ml-2	"),variant:"ghost",size:"icon",children:c.jsx(go,{className:"h-5 w-5"})})}),c.jsx(Q,{onClick:()=>{r("/ai/new"),e||o(!0)},className:k("inline-flex p-2 hover:scale-110 hover:bg-inherit",!n&&"-ml-2"),variant:"ghost",size:"icon",children:c.jsx(vo,{className:"inline-block h-5 w-5"})})]}),c.jsx("div",{className:"flex h-full max-h-full flex-col items-start justify-start overflow-y-auto overflow-x-hidden p-3",children:a.map(x=>{let b;const m=s.get(xe({id:x}));return m.createdAt&&m.createdAt>=u&&(f===""||f==="Today")?(b=f==="Today"?void 0:"Today",f="Today"):m.createdAt&&m.createdAt>=p&&f==="Today"?(b="Previous 7 days",f=b):f==="Previous 7 days"&&m.createdAt&&m.createdAt<=p?(b="Previous 30 days",f=b):b=void 0,c.jsx(ct,{id:x,label:b,isActive:l.id===x,isCollapsed:n},x)})}),c.jsxs("span",{className:"absolute bottom-0 p-2 pl-4 text-xs italic text-zinc-700 dark:text-zinc-300",children:["Built with"," ",c.jsx("img",{"aria-hidden":!0,src:"https://wandb.github.io/weave/img/logo.svg",className:"inline-block w-4",alt:"Weave"})," ",c.jsx("a",{href:"https://wandb.me/weave?ref=openui",target:"_blank",rel:"noreferrer",className:"underline",children:"Weave"})]}),c.jsx(Q,{onClick:()=>{o(!n)},className:k("ml-auto inline-flex p-2 hover:scale-110 hover:bg-secondary",n&&"absolute -left-2 top-[90px] z-50 bg-secondary",!e&&"mb-20"),variant:"ghost",size:"icon",children:n?c.jsx(xo,{className:"inline-block h-4 w-4"}):c.jsx($o,{className:"inline-block h-4 w-4"})})]}),c.jsx("div",{className:"mobile-safe-container relative flex-1 overflow-hidden",children:c.jsx(bo,{renderError:x=>c.jsx(So,{error:x}),children:c.jsx(Yt,{})})})]})}export{Zn as default};
